[[dolly_brukerveiledning]]
== Brukerveiledning

Dolly er NAVs selvbetjeningsløsning for å opprette syntetiske data. I Dolly kan du opprette syntetiske personer med forskjellige egenskaper, og tilgjengeliggjøre dataene i valgte testmiljøer.

Link til Dolly: https://dolly.ekstern.dev.nav.no/

[[dolly_palogging]]
=== Pålogging

Dolly benytter seg nå av Single Sign On (SSO) som fører til at du blir innlogget gjennom dette systemet. Du vil derfor som oftest være logget inn på din bruker med en gang du åpner Dolly.

Det første som møter deg når du har logget inn er en startside med noen menyvalg. Siden åpnes automatisk med en oversikt over dine grupper.

image::dolly/startside.png[Startside]

Noen ganger vil du bli møtt av en eller flere meldinger når du åpner Dolly, f.eks. om det er første gang du bruker applikasjonen, eller om det har dukket opp nyheter. Det er viktig at du leser disse meldingene, da de inneholder nyttig informasjon om bruk av Dolly.

image::dolly/varslinger.png[Varslinger]

[[dolly_opprette_gruppe]]
=== Opprette en ny gruppe

For å opprette nye syntetiske personer i Dolly kan du enten lage en ny gruppe eller legge til personer i en eksisterende gruppe. En gruppe inneholder personer du eller teamet har opprettet.

Under Mine vises grupper opprettet av deg selv. Under Alle vises dine og andres grupper. En god regel er at du ikke endrer andres grupper uten avtale med eieren.

Trykk på Ny gruppe og velg navn og beskriv hensikten med gruppen. Når hensikten er beskrevet er det enklere for både deg selv og eventuelt andre du samarbeider med å forstå hva denne gruppen brukes til. Trykk Opprett og gå til gruppe.

image::dolly/testdatagrupper.png[Testdatagrupper]

Inne på gruppen har du en oversikt over alle personene som tilhører gruppen og hvilke egenskaper de har. Her kan du også legge til nye personer.

image::dolly/ny_testdatagruppe.png[Ny testdatagruppe]

Det kommer opp en boks der du får to valg:

. Opprette helt nye personer (Dolly finner et ubrukt fnr, dnr eller bost)
. Opprette fra eksisterende fnr, dnr eller bost (identen kan ikke finnes i prod eller i Dolly)

Vi velger å opprette nye og angir at vi ønsker 10 personer i bestillingen.

Opprettelse av personer følger en prosess med tre steg:

image::dolly/opprettelse_prossess.png[Opprettelse prosess]

. Velg hvilke egenskaper du selv ønsker å bestemme. De resterende egenskapene vil systemet sette.
. Angi verdier på egenskapene du valgte i steg 1.
. Oppsummering og valg av hvilke testmiljø personene skal sendes til.

[[dolly_velg_egenskaper]]
==== Velg egenskaper

image::dolly/velg_egenskaper.png[Velg egenskaper]

Det finnes en lang rekke områder med egenskaper du kan velge. Trykk på pil ned til høyre i boksen for å ekspandere hvert område. I de fleste tilfeller er det kun et utvalg egenskaper som er nødvendig å definere for testscenariene dine. Dolly tildeler verdier til egenskaper du ikke krysser av for.

I dette eksemplet ønsker vi å teste endringer i arbeidsforhold og krysser av for følgende egenskaper:

image::dolly/valgt_egenskap.png[Valgt egenskap]

Team Dolly videreutvikler Dolly kontinuerlig og nye egenskaper legges til fortløpende. Savner du noe, meld inn på Slack-kanalen #Dolly.

Når du har angitt aktuelle verdier for egenskapene trykk videre og velg miljø.

For mer informasjon om NAVs testmiljøer se: https://confluence.adeo.no/pages/viewpage.action?pageId=305341700

image::dolly/miljoe_valg.png[Miljøvalg]

Velg miljø og trykk Opprett.

image::dolly/opprettet_gruppe.png[Opprettet gruppe]

Gruppen har fått nye personer og du kan jobbe med disse i relevante fagsystemer. Trykk på pil ned til høyre på raden for detaljinformasjon per person.

[[dolly_leggtil_endre_person]]
=== Legg til eller endre person

For å legge til ekstra egenskaper på en eksisterende person: åpne detaljvisning for personen, trykk LEGG TIL/ENDRE og velg egenskaper.

[[dolly_demo]]
=== Demo

==== Opprette personer med tilfeldige verdier

++++
<video src="https://user-images.githubusercontent.com/58416744/160127199-77556648-6be9-44b6-b7ca-df4d4ae52a7d.mov" controls="controls" style="max-width: 730px;"></video>
++++

==== Opprette person med ønskede verdier

++++
<video src="https://user-images.githubusercontent.com/58416744/160127595-4655a2d6-9a59-4f56-b231-87fb4cded2c9.mov" controls="controls" style="max-width: 730px;"></video>
++++

==== Legg til eller endre person

++++
<video src="https://user-images.githubusercontent.com/58416744/160127725-8e96934c-af19-4801-b69d-67fe907b16d7.mov" controls="controls" style="max-width: 730px;"></video>
++++

[[dolly_maler]]
=== Opprette og bruke maler

Når du oppretter en ny person i Dolly kan du velge å lagre bestillingen som en mal. Malen kan senere hentes av deg selv eller andre og gir en ferdigutfylt bestilling.

For å lage en mal huk av for Lagre som mal på siste steg i prosessen. Gi malen et beskrivende navn.

image::dolly/opprette_mal.png[Opprette mal]

For å bruke en mal: i første steg huk av for Maler, velg bruker (deg selv eller annen) og deretter ønsket mal.

image::dolly/bruk_mal.png[Bruk mal]

Du kan endre verdier før innsending.

==== Demo

++++
<video src="https://user-images.githubusercontent.com/58416744/160128266-a13c18ea-a709-4914-8627-befd25e1af16.mov" controls="controls" style="max-width: 730px;"></video>
++++

[[dolly_endringsmelding_seksjon]]
=== Endringsmelding (status)

Øverst i menyen kan du velge endringsmelding. Her kan du sende inn fødselsmelding eller dødsmelding til ønsket testmiljø. Dette er en separat applikasjon med egne tilganger.

Merk: Kun én person per melding. Funksjonaliteten vil bli erstattet; bruk Dolly-funksjonene for fødsels- og dødsmeldinger:

* Fødselsmelding: Gå til gruppe, finn forelder, velg Legg til/endre og kryss av Barn eller bruk Legg til relasjoner.
* Dødsmelding: Gå til gruppe, velg Legg til/endre og kryss av Dødsdato.

For personer som ikke eksisterer i Dolly: Opprett person, velg Eksisterende person og skriv inn ident.

image::dolly/endringsmelding.png[Endringsmelding]

[[dolly_api_dok]]
=== API-dokumentasjon

Øverst i menyen ligger en lenke til API dokumentasjon (Swagger) for tilgjengelige API-er.

image::dolly/api_dok.png[API dok]

[[dolly_feil_innlogging]]
=== Feil ved innlogging

image::dolly/logged_out_error.png[Tvungen utlogging]

Hvis du gjentatte ganger blir logget ut eller ikke kommer inn kan det skyldes cookies.

* Manuell logout: https://dolly.intern.dev.nav.no/oauth2/logout
* Tøm cookies i nettleser (se video under)

++++
<video src="https://user-images.githubusercontent.com/58416744/159910685-f4bcbe86-c856-459c-a220-b242c46a59cd.mov" controls="controls" style="max-width: 730px;"></video>
++++
