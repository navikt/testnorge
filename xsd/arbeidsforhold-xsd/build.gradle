plugins {
    id "org.sonarqube" version "4.0.0.2929"
    id 'java-library'
    id 'com.github.edeandrea.xjc-generation' version '1.6'
}

sonarqube {
    skipProject = true
}

group = 'no.nav.testnav.xsd'

repositories {
    mavenCentral()
    mavenLocal()
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

dependencies {
    implementation 'jakarta.activation:jakarta.activation-api:2.1.2'
    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'

    xjc 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'
    xjc 'org.glassfish.jaxb:jaxb-xjc:4.0.2'
    xjc 'com.sun.xml.bind:jaxb-impl:4.0.2'
    xjc 'com.sun.istack:istack-commons-runtime:4.2.0'
}

xjcGeneration {
    defaultAdditionalXjcOptions = ['encoding': 'UTF-8']
    schemas {
        v2_0 {
            schemaFile = 'a-arbeidsforhold_v2_0.xsd'
            javaPackageName = 'no.nav.registre.testnorge.xsd.arbeidsforhold.v2_0'
        }
        v2_1 {
            schemaFile = 'a-arbeidsforhold_v2_1.xsd'
            javaPackageName = 'no.nav.registre.testnorge.xsd.arbeidsforhold.v2_1'
        }
    }
}