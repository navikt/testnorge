plugins {
    id "dolly-apps"
}

test {
    useJUnitPlatform()
}

sonarqube {
    properties {
        property "sonar.dynamicAnalysis", "reuseReports"
        property "sonar.host.url", "https://sonarcloud.io"
        property "sonar.java.coveragePlugin", "jacoco"
        property "sonar.language", "java"
        property "sonar.token", System.getenv("SONAR_TOKEN")
        property "sonar.organization", "navikt"
        property "sonar.project.monorepo.enabled", true
        property "sonar.projectKey", "testnav-levende-arbeidsforhold-ansettelse"
        property "sonar.projectName", "testnav-levende-arbeidsforhold-ansettelse"
        property "sonar.sourceEncoding", "UTF-8"
    }
}


dependencies {
    implementation 'no.nav.testnav.libs:security-core'
    implementation 'no.nav.testnav.libs:reactive-core'
    implementation 'no.nav.testnav.libs:servlet-core'
    implementation 'no.nav.testnav.libs:servlet-insecure-security'
    implementation 'no.nav.testnav.libs:data-transfer-objects'
    implementation 'no.nav.testnav.libs:data-transfer-search-objects'
    implementation 'no.nav.testnav.libs:database'

    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'

    implementation 'org.springframework.cloud:spring-cloud-starter-vault-config'

    implementation 'org.postgresql:postgresql:42.7.2'

    implementation 'io.micrometer:micrometer-registry-prometheus'
    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.3.0'
    implementation 'io.swagger.core.v3:swagger-annotations-jakarta:2.2.21'

    implementation 'org.hibernate.validator:hibernate-validator'

    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.cloud:spring-cloud-contract-wiremock'

    implementation 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'

    implementation 'com.zaxxer:HikariCP'
    implementation 'com.h2database:h2'

    //Spesifiserer versjoner av dependencies' dependencies som er utdatert og har sikkerhets-risikoer, bruker derfor de nedenfor
    implementation 'org.apache.commons:commons-compress:1.26.2'
    implementation 'org.apache.tomcat.embed:tomcat-embed-core:10.1.25'
    implementation 'org.apache.tomcat.embed:tomcat-embed-websocket:10.1.19'
    implementation 'org.apache.tomcat.embed:tomcat-embed-core:10.1.25'
    implementation 'org.springframework.security:spring-security-core:6.2.3'
    implementation 'org.springframework:spring-core:6.1.3'
    implementation 'org.springframework:spring-web:6.1.6'
    implementation 'com.nimbusds:nimbus-jose-jwt:9.37.2'
    implementation 'io.netty:netty-codec-http:4.1.108.Final'
    implementation 'com.h2database:h2:2.3.230'
    implementation 'org.bouncycastle:bcprov-jdk18on:1.78'
}

