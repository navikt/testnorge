AAD_ISSUER_URI: https://login.microsoftonline.com/62366534-1ec3-4962-8869-9b5535279d0b

application:
  name: testnav-ident-pool
  version: dummy

### TPS ###
generer:
  identer:
    enable: true

### METRICS ###
management:
  endpoints:
    web:
      base-path: /internal
    exposure:
      include: prometheus

spring:
  flyway:
    enabled: true
    locations: classpath:/db/migration
    baseline-on-migrate: false
    validate-on-migrate: false
  jpa:
    properties:
      hibernate:
        default-schema: public
        dialect: org.hibernate.dialect.PostgreSQLDialect
        showSql: true
  security:
    oauth2:
      resourceserver:
        aad:
          issuer-uri: https://login.microsoftonline.com/62366534-1ec3-4962-8869-9b5535279d0b/v2.0
          #The client_id of this application
          accepted-audience: ${azure.app.client.id}, api://${azure.app.client.id}
        tokenx:
          issuer-uri: https://tokendings.dev-gcp.nais.io
          jwk-set-uri: https://tokendings.dev-gcp.nais.io/jwks
          accepted-audience: ${TOKEN_X_CLIENT_ID}

consumers:
  tps:
    messaging:
      service:
        url: https://testnav-tps-messaging-service.dev.intern.nav.no
        cluster: dev-gcp
        namespace: dolly
        name: testnav-tps-messaging-service

azure:
  app:
    client:
      id: ${client_id}
      secret: ${client_secret}