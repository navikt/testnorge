{"version":3,"sources":["webpack:///./src/components/ui/titleValue/TitleValue.js","webpack:///./src/config/kodeverk/index.ts","webpack:///./src/components/ui/subOverskrift/SubOverskrift.tsx","webpack:///./src/components/hjelpetekst/Hjelpetekst.tsx","webpack:///./src/components/hjelpetekst/index.ts","webpack:///./src/components/rating/ThumbsRating.tsx","webpack:///./src/components/ui/contentContainer/ContentContainer.js","webpack:///./src/components/ui/button/LinkButton/LinkButton.js","webpack:///./src/components/ui/apiFeilmelding/ApiFeilmelding.js","webpack:///./src/components/miljoVelger/MiljoeInfo/TilgjengeligeMiljoer.js","webpack:///./src/pages/minSide/maler/api.js","webpack:///./src/components/enhetstre/Node.tsx","webpack:///./src/components/enhetstre/Enhetstre.tsx","webpack:///./src/components/enhetstre/OrgTree.tsx","webpack:///./src/components/feedback/Feedback.tsx","webpack:///./src/components/dollyKjede/KjedeItem.tsx","webpack:///./src/components/dollyKjede/ArrowButton.tsx","webpack:///./src/components/dollyKjede/KjedePagination.tsx","webpack:///./src/components/dollyKjede/DollyKjede.tsx","webpack:///./src/components/bestilling/utils/antallIdenterOpprettet.js","webpack:///./src/components/bestilling/sammendrag/SammendragModal.js","webpack:///./src/components/bestilling/jiraLenker/JiraLenker.js","webpack:///./src/components/bestilling/sammendrag/miljoeStatus/fagsystemStatus/FagsystemStatus.js","webpack:///./src/components/bestilling/sammendrag/miljoeStatus/MiljoeStatus.js","webpack:///./src/components/bestilling/sammendrag/Sammendrag.js","webpack:///./src/components/bestilling/sammendrag/kriterier/BestillingKriterieMapper.js","webpack:///./src/components/bestilling/sammendrag/kriterier/OrganisasjonKriterier.tsx","webpack:///./src/components/bestilling/sammendrag/kriterier/Kriterier.js","webpack:///./src/components/miljoVelger/MiljoeInfo/MiljoeInfo.js","webpack:///./src/components/miljoVelger/MiljoVelger.js","webpack:///./src/components/bestilling/gjenopprett/GjenopprettModal.tsx","webpack:///./src/components/bestilling/statusListe/BestillingProgresjon/BestillingProgresjon.js","webpack:///./src/components/bestilling/statusListe/BestillingResultat/FagsystemStatus/FagsystemStatus.js","webpack:///./src/components/bestilling/statusListe/BestillingResultat/BestillingResultat.js","webpack:///./src/components/bestilling/statusListe/StatusListeConnector.js","webpack:///./src/components/bestilling/statusListe/StatusListe.js","webpack:///./src/components/bestilling/gjenopprett/GjenopprettBestillingConnector.js","webpack:///./src/components/bestilling/gjenopprett/GjenopprettBestilling.js","webpack:///./src/components/bestilling/sendOpenAm/SendOpenAmConnector.js","webpack:///./src/components/bestilling/sendOpenAm/SendOpenAm.js","webpack:///./src/pages/minSide/maler/MalModal.js","webpack:///./src/components/bestilling/detaljer/Detaljer.js","webpack:///./src/pages/gruppe/PersonVisning/TidligereBestillinger/TidligereBestillinger.js","webpack:///./src/components/searchField/SearchField.js","webpack:///./src/pages/organisasjoner/OrganisasjonBestilling.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/AdresseDetaljer.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/KontaktdataDetaljer.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/Detaljer.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/miljoevisning/OrganisasjonDataVisning.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/miljoevisning/OrganisasjonMiljoeinfo.tsx","webpack:///./src/components/fagsystem/organisasjoner/visning/Visning.tsx","webpack:///./src/pages/organisasjoner/OrganisasjonListe.tsx","webpack:///./src/pages/organisasjoner/Organisasjoner.tsx","webpack:///./src/pages/organisasjoner/TomOrgliste.tsx","webpack:///./src/pages/organisasjoner/OrganisasjonerConnector.ts"],"names":["P_TitleValue","title","value","titleType","size","children","className","css","cn","React","createElement","TitleValue","kodeverk","restProps","rest","KodeverkConnector","navn","kodeverkValues","kodeverkValue","_isFunction","label","Loading","PersoninformasjonKodeverk","VergemaalKodeverk","FullmaktKodeverk","AdresseKodeverk","SigrunKodeverk","ArbeidKodeverk","InntektstubKodeverk","GtKodeverk","OppholdstillatelseKodeverk","OrganisasjonKodeverk","SubOverskrift","iconKind","Icon","kind","Hjelpetekst","props","uuid","render","this","hjelpetekstFor","type","onClick","e","stopPropagation","Logger","log","event","ratingFor","ThumbsButton","styled","NavButton","ThumpsUp","ThumpsDown","ThumbsRating","useState","rated","setRated","_onClick","rating","form","Rating","Positive","Negative","ContentContainer","LinkButton","text","href","handleClick","preventDefault","ApiFeilmelding","feilmelding","container","TilgjengeligeMiljoer","endepunkt","dollyEnvironments","state","useAsync","response","message","data","Formatters","arrayToString","filterMiljoe","error","dollyMiljoe","utvalgteMiljoer","dollyMiljoeArray","flatDollyMiljoe","filter","miljoe","includes","dollymiljoe","miljoeArray","Object","values","forEach","miljoeKat","push","id","api","hentMaler","fetch","credentials","headers","then","ok","Error","statusText","json","console","slettMal","malId","method","endreMalNavn","malNavn","body","JSON","stringify","Node","hasChildren","isSelected","onNodeClick","enhet","getId","getName","Enhetstre","getUnderenheter","length","currentEnhet","selected","level","enheter","map","i","key","selectedEnhet","OrgTree","organisajon","underenheter","index","createId","organisasjonsnavn","find","Feedback","feedbackFor","brukerBilde","setRating","setText","_uuid","submit","setSubmit","useToggle","isAnonym","toggleAnonym","alt","src","url","dolly","placeholder","maxLength","onChange","target","feil","htmlType","disabled","autoFocus","Button","button","p","style","textDecoration","cursor","textColor","ArrowButton","left","paginationValue","PaginationContainer","div","PaginationWrapper","Separator","color","selectedIndex","objectList","centerIndices","handlePagination","KjedeItem","item","getCenterIndices","antallItems","itemLimit","indices","Array","from","keys","unshift","slice","getInitialPaginationIndex","maxShownItems","setSelectedIndex","isLocked","useEffect","setLocked","getMaxShownItems","locked","paginationIndex","setPaginationIndex","setCenterIndices","KjedePagination","addValue","handleSelection","newPaginationIndex","antallIdenterOpprettet","bestilling","antallIdenter","antallTekstPartial","tekst","harMangler","BestillingSammendragModal","useBoolean","modalIsOpen","openModal","closeModal","isOpen","width","overflow","modal","JiraLenker","openAm","extractRegNr","link","substring","FagsystemStatus","statusrapport","problemCircleFeil","getIconType","status","melding","orgnummer","some","ErrorBoundary","idx","miljo","identer","ident","MiljoeStatus","erOrganisasjon","hasOwnProperty","mapStatusrapport","bestillingstatus","reduce","acc","curr","concat","statuser","detaljert","miljoArray","m","sort","identArray","successFirst","a","BestillingSammendrag","gruppeId","organisasjonNummer","bestillingsinformasjon","sistOppdatert","opprettetFraId","opprettetFraGruppeId","navSyntetiskIdent","header","openamSent","split","obj","apiKodeverkId","_getTpsfBestillingData","identtype","formatDate","foedtEtter","foedtFoer","alder","doedsdato","statsborgerskap","StatsborgerskapLand","statsborgerskapRegdato","statsborgerskapTildato","kjonn","oversettBoolean","harMellomnavn","sivilstand","Sivilstander","spesreg","utenFastBopel","sprakKode","Spraak","innvandretFraLand","InnvandretUtvandretLand","innvandretFraLandFlyttedato","utvandretTilLand","utvandretTilLandFlyttedato","erForsvunnet","forsvunnetDato","harBankkontonr","bankkontonrRegdato","telefonnummer_2","telefonnummer_1","telefonLandskode_1","telefonLandskode_2","egenAnsattDatoFom","egenAnsattDatoTom","mapBestillingData","bestillingData","bestillingsInfo","items","toString","tpsf","boadresse","postadresse","midlertidigAdresse","adresseNrInfo","identHistorikk","relasjoner","vergemaal","fullmakt","persondetaljer","_isEmpty","personinfo","adresseNrInfoObj","showLabel","nummertype","nummer","bolignr","flyttedato","adresse","adressetypeToString","adressetype","gateadresse","husnummer","mellomnavn","gardsnr","bruksnr","festenr","undernr","postnr","kommunenr","tilleggsadresse","tilleggType","postadr","postLand","postLinje1","postLinje2","postLinje3","typeGateadresse","gateadresseNrInfo","norskAdresse","gatenavn","midlertidigAdresseObj","gyldigTom","husnr","eiendomsnavn","postboksnr","postboksAnlegg","utenlandskAdresse","PostadresseLand","midlertidigTilleggsadresseObj","identhistorikkData","itemRows","numberHeader","kjonnToString","regdato","partnere","partner","barn","foreldre","j","sivilstander","_get","sisteSivilstand","_takeRight","tidligereSivilstander","_dropRight","reverse","s","harFellesAdresse","partnerIdent","barnType","borHos","erAdoptert","foedselsdato","foreldreRows","foreldreType","vergemaalKriterier","embete","Fylkesmannsembeter","sakType","Sakstype","mandatType","Mandattype","vedtakDato","identType","fullmaktKriterier","kilde","omraaderArrayToString","omraader","gyldigFom","aaregKriterier","aareg","paginering","pagineringPages","harAmelding","_has","arbeidsforholdVisning","arbeidsforhold","arbeidsforholdstype","Arbeidsforholdstyper","arbeidsgiver","arbeidsforholdID","ansettelsesPeriode","fom","tom","sluttaarsak","SluttaarsakAareg","arbeidsavtale","yrke","Yrker","ansettelsesform","AnsettelsesformAareg","stillingsprosent","endringsdatoStillingsprosent","sisteLoennsendringsdato","arbeidstidsordning","Arbeidstidsordninger","avtaltArbeidstimerPerUke","fartoy","skipsregister","Skipsregistre","skipstype","Skipstyper","fartsomraade","Fartsomr√•der","antallTimerForTimeloennet","utenlandsopphold","permisjon","permittering","genererPeriode","amelding","maaned","sigrunStubKriterier","sigrunstub","flatSigrunStubKriterier","inntekt","inntektObj","inntektsaar","tjeneste","grunnlag","gr","tekniskNavn","verdi","inntektssted","svalbardGrunnlag","sigrunStub","uppercaseAndUnderscoreToCapitalized","inntektStubKriterier","inntektstub","inntektStub","inntektsinformasjon","inntektsinfo","sisteAarMaaned","antallMaaneder","virksomhet","opplysningspliktig","inntektsliste","fradragsliste","forskuddstrekksliste","arbeidsforholdsliste","historikk","sykemeldingKriterier","sykemelding","syntSykemelding","startDato","arbeidsforholdId","detaljertSykemelding","umiddelbarBistand","manglendeTilretteleggingPaaArbeidsplassen","biDiagnoser","helsepersonell","fornavn","etternavn","perioder","detaljer","arbeidsforEtterEndtPeriode","brregstubKriterier","brregstub","understatuser","rolle","registreringsdato","orgNr","foretaksNavn","navn1","personroller","krrKriterier","krrstub","krrStub","registrert","reservert","epost","mobil","spraak","gyldigFra","sdpAdresse","sdpLeverandoer","pdlforvalterKriterier","pdlforvalter","doedsboKriterier","kontaktinformasjonForDoedsbo","navnType","adressat","kontaktperson","doedsbo","idnummer","organisasjonsnummer","adresselinje1","adresselinje2","postnummer","poststedsnavn","landkode","skifteform","utstedtDato","utenlandskIdentifikasjonsnummer","uidnr","flatUidnrKriterier","ui","identifikasjonsnummer","opphoert","utstederland","uidnrObj","uidr","Utstederland","falskIdentitet","falskIdData","rettIdentitet","identitetType","falskId","rettIdentitetVedIdentifikasjonsnummer","personnavn","kjoenn","arenaKriterier","arenaforvalter","arenaBrukertype","kvalifiseringsgruppe","automatiskInnsendingAvMeldekort","inaktiveringDato","aap115","fraDato","aap","tilDato","dagpenger","rettighetKode","instKriterier","instdata","flatInstKriterier","institusjonstype","varighet","startdato","sluttdato","instObj","inst","udiStubKriterier","udistub","oppholdKriterier","oppholdStatus","arbeidsadgangKriterier","arbeidsadgang","currentOppholdsrettType","currentTredjelandsborgereStatus","oppholdSammeVilkaar","uavklart","harOppholdsTillatelse","oppholdsrett","Boolean","tredjelandsborger","aliaserListe","aliaser","alias","nyIdent","allCapsToCapitalized","harArbeidsAdgang","typeArbeidsadgang","arbeidsOmfang","flyktning","soeknadOmBeskyttelseUnderBehandling","pensjonKriterier","pensjonforvalter","fomAar","tomAar","belop","redusertMedGrunnbelop","inntektsmeldingKriterier","inntektsmelding","tomInntektsmelding","inntekter","mapInntektsmeldingKriterier","meldinger","codeToNorskLabel","aarsakTilInnsending","ytelse","naerRelasjon","avsendersystem","innsendingstidspunkt","virksomhetsnummer","arbeidsgiverPrivat","arbeidsgiverFnr","beregnetInntekt","beloep","aarsakVedEndring","foersteFravaersdag","avtaltFerieListe","refusjon","refusjonsbeloepPrMnd","refusjonsopphoersdato","endringIRefusjonListe","omsorgspenger","fravaersPerioder","delvisFravaersListe","sykepengerIArbeidsgiverperioden","arbeidsgiverperiodeListe","startdatoForeldrepengeperiode","pleiepengerPerioder","gjenopptakelseNaturalytelseListe","opphoerAvNaturalytelseListe","dokarkivKriterier","dokarkiv","dokumenter","brevkode","tittel","tema","journalfoerendeEnhet","organisasjonKriterier","organisasjon","forretningsadresse","enhetstype","naeringskode","sektorkode","formaal","stiftelsesdato","maalform","telefon","nettside","forretningsadresseKriterier","poststed","adresselinjer","postadresseKriterier","importFraTps","importData","kildeMiljoe","toUpperCase","OrganisasjonKriterier","selectedId","setSelectedId","orgTree","_renderBestillingsDetaljer","kategori","bottomBorder","cssClass","_renderStaticValue","DollyKjede","row","attributt","Bestillingskriterier","MiljoeInfo","bestillingsdata","InstApi","getTilgjengeligeMiljoer","ArenaApi","PensjonApi","MiljoVelger","heading","environments","useSelector","filteredEnvironments","filterEnvironments","miljoer","erOrg","filtrerteMiljoer","Q","env","order","name","remove","isChecked","indexOf","category","allDisabled","f","checked","velgAlle","c","n","setFieldValue","fjernAlle","component","GjenopprettModal","gjenopprettHeader","submitFormik","tilgjengeligeEnvironments","schemaValidation","yup","shape","required","initialValues","onSubmit","validationSchema","formikProps","submitForm","BestillingProgresjon","clearInterval","interval","bestillingId","DollyApi","getOrganisasjonBestillingStatus","ferdig","stopPolling","updateOrgStatus","getBestillingStatus","updateStatus","newState","antallLevert","setState","setTimeout","getBestillinger","getOrganisasjoner","brukerId","TIMEOUT_BEFORE_HIDE","getGruppe","harBestillingFeilet","Date","getTime","failureIntervalCounter","TIME_BEFORE_WARNING_MESSAGE","failed","total","percent","cancelBestilling","PULL_INTERVAL","PULL_INTERVAL_ORG","componentDidMount","setInterval","componentWillUnmount","calculateStatus","onlySpinner","strokeWidth","trailWidth","strokeColor","_onCancelBtn","PureComponent","PropTypes","object","isRequired","iconTypes","iconType","every","fagsystem","BestillingResultat","onCloseButton","antall","loadingCancelSelector","createLoadingSelector","loadingBestillingerSelector","loadingOrgBestillingSelector","getOrganisasjonBestilling","connect","mapStateToProps","isFetchingBestillinger","isFetchingOrgBestillinger","nyeBestillinger","nyeBestillingerSelector","isCanceling","bruker","brukerData","mapDispatchToProps","dispatch","ownProps","pageNo","pageSize","actions","getById","fetchOrganisasjoner","removeNyBestillingStatus","StatusListe","_onCloseBestillingResultat","gjenopprettBestilling","envs","gjenopprettOrganisasjonBestilling","GjenopprettBestilling","envsQuery","replace","toLowerCase","paddingLeft","paddingRight","SendOpenAm","useAsyncFn","postOpenAmBestilling","requestState","postOpenAm","openAmLinkArray","close","DollyModal","loading","MalModal","nyttMalnavn","setMalnavn","Label","TextInput","ModalActionKnapper","submitknapp","lagreEndring","onAvbryt","center","BestillingDetaljer","iLaastGruppe","isGjenopprettModalOpen","openGjenopprettModal","closeGjenoprettModal","isOpenAmModalOpen","openOpenAmModal","closeOpenAmModal","isOpenMalModalOpen","openOpenMalModal","closeOpenMalModal","alleredeSendtTilOpenAm","alleredeMal","malBestillingNavn","harIdenterOpprettet","SendOpenAmConnector","TidligereBestillinger","ids","join","SearchField","useDispatch","handleChange","trim","setSearchText","aria-label","icon","ikonTypeMap","Ferdig","Avvik","Feilet","Stoppet","OrganisasjonBestilling","bestillinger","sortedOrgliste","_orderBy","columns","dataField","unique","formatter","cell","replaceAll","Spinner","DollyTable","pagination","iconItem","onExpand","v","Detaljer","Naeringskoder","Sektorkoder","formatStringDates","KontaktdataDetaljer","adresser","AdresseDetaljer","OrganisasjonDataVisning","organisasjonListe","entries","getOrganisasjonInfo","organisasjoner","overlay","placement","align","offset","mouseEnterDelay","mouseLeaveDelay","arrowContent","overlayStyle","opacity","OrganisasjonMiljoeinfo","OrgforvalterApi","getOrganisasjonerMiljoeInfo","OrganisasjonVisning","orgInfo","OrganisasjonListe","destroyTooltipOnHide","str","visSide","BestillingType","startBestilling","bestillingstype","marginTop","loadingSelector","search","isFetching","orgListe","Organisasjoner","history","visning","setVisning","antallOrg","antallBest","opprettOrganisasjon","hentOrgStatus","orgStatus","dollySlack","StatusListeConnector","NY","Toggle","byttVisning","searchfieldPlaceholderSelector","undefined","panel","filterOrg","sokSelectorOrg","searchStr","query","mergeList","getBestillingIdFromOrgnummer","org","b","STANDARD","filterBest","sokSelector"],"mappings":"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","file":"11.bundle.6f9cbc73.js","sourcesContent":["import React from 'react'\nimport cn from 'classnames'\nimport _isFunction from 'lodash/isFunction'\nimport KodeverkConnector from '~/components/kodeverk/KodeverkConnector'\nimport Loading from '~/components/ui/loading/Loading'\n\nimport './TitleValue.less'\n\nconst P_TitleValue = ({ title, value, titleType = 'h4', size = 'small', children, className }) => {\n\tconst css = cn('title-value', `title-value_${size}`)\n\n\treturn (\n\t\t<div className={className + ' ' + css}>\n\t\t\t{React.createElement(titleType, null, [title])}\n\t\t\t<div>{value ? value : children}</div>\n\t\t</div>\n\t)\n}\n\nexport const TitleValue = ({ kodeverk = null, ...restProps }) => {\n\tif (!restProps.value && !restProps.children) return null\n\n\tif (kodeverk) {\n\t\tconst { value, children, ...rest } = restProps\n\t\treturn (\n\t\t\t<P_TitleValue {...rest}>\n\t\t\t\t<KodeverkConnector navn={kodeverk} value={value}>\n\t\t\t\t\t{(kodeverkValues, kodeverkValue) => {\n\t\t\t\t\t\tif (!kodeverkValue) return !kodeverkValues ? <Loading /> : value\n\t\t\t\t\t\treturn _isFunction(restProps.children)\n\t\t\t\t\t\t\t? restProps.children(kodeverkValue)\n\t\t\t\t\t\t\t: kodeverkValue.label\n\t\t\t\t\t}}\n\t\t\t\t</KodeverkConnector>\n\t\t\t</P_TitleValue>\n\t\t)\n\t}\n\treturn <P_TitleValue {...restProps} />\n}\n","export enum PersoninformasjonKodeverk {\n\tSpraak = 'Spr√•k',\n\tKjoennstyper = 'Kj√∏nnstyper',\n\tDiskresjonskoder = 'Diskresjonskoder',\n\tSivilstander = 'Sivilstander',\n\tPersonstatuser = 'Personstatuser',\n\tRetningsnumre = 'Retningsnumre'\n}\n\nexport enum VergemaalKodeverk {\n\tFylkesmannsembeter = 'Vergem√•l_Fylkesmannsembeter',\n\tMandattype = 'Vergem√•l_Mandattype',\n\tSakstype = 'Vergem√•l_Sakstype',\n\tVergetype = 'Vergem√•l_Vergetype'\n}\n\nexport enum FullmaktKodeverk {\n\tTema = 'Tema'\n}\n\nexport enum AdresseKodeverk {\n\tPostnummer = 'Postnummer',\n\tPostnummerUtenPostboks = 'Postnummer vegadresser',\n\tKommunenummer = 'Kommuner',\n\n\tPostadresseLand = 'LandAdresserFreg',\n\tStatsborgerskapLand = 'StatsborgerskapFreg',\n\tUtstederland = 'UtstederlandIDFreg',\n\tInnvandretUtvandretLand = 'LandAdresserFreg',\n\tArbeidOgInntektLand = 'LandkoderISO2'\n}\n\nexport enum SigrunKodeverk {\n\tBEREGNET_SKATT = 'Beregnet skatt',\n\tSUMMERT_SKATTEGRUNNLAG = 'Summert skattegrunnlag'\n}\n\nexport enum ArbeidKodeverk {\n\tYrker = 'Yrker',\n\tArbeidstidsordninger = 'Arbeidstidsordninger',\n\tArbeidsforholdstyper = 'Arbeidsforholdstyper',\n\tAvloenningstyper = 'Avl√∏nningstyper',\n\tPermisjonsOgPermitteringsBeskrivelse = 'PermisjonsOgPermitteringsBeskrivelse',\n\tSluttaarsakAareg = 'Slutt√•rsakAareg',\n\tAnsettelsesformAareg = 'AnsettelsesformAareg',\n\tSkipsregistre = 'Skipsregistre',\n\tSkipstyper = 'Skipstyper',\n\tFartsomr√•der = 'Fartsomr√•der'\n}\n\nexport enum InntektstubKodeverk {\n\tForskuddstrekkbeskrivelse = 'Forskuddstrekkbeskrivelse',\n\tFradragbeskrivelse = 'Fradragbeskrivelse'\n}\n\nexport enum GtKodeverk {\n\tKNR = 'Kommuner',\n\tBYDEL = 'Bydeler',\n\tLAND = 'Landkoder'\n}\n\nexport enum OppholdstillatelseKodeverk {\n\tOppholdstillatelser = 'Oppholdstillatelser'\n}\n\nexport enum OrganisasjonKodeverk {\n\tEnhetstyperJuridiskEnhet = 'EnhetstyperJuridiskEnhet',\n\tEnhetstyperVirksomhet = 'EnhetstyperVirksomhet',\n\tNaeringskoder = 'N√¶ringskoder',\n\tSektorkoder = 'Sektorkoder'\n}\n","import React from 'react'\nimport Icon from '~/components/ui/icon/Icon'\nimport './SubOverskrift.less'\n\ntype Props = {\n\ticonKind?: string\n\tlabel?: string\n}\n\nexport default function SubOverskrift({ iconKind, label }: Props) {\n\tif (!label) return null\n\treturn (\n\t\t<div className=\"sub-overskrift\">\n\t\t\t{iconKind && <Icon size={18} kind={iconKind} />}\n\t\t\t<h3>{label}</h3>\n\t\t</div>\n\t)\n}\n","import * as React from 'react'\n// @ts-ignore\nimport { v4 as uuid } from 'uuid'\nimport NavHjelpeTekst from 'nav-frontend-hjelpetekst'\nimport Logger from '../../logger'\nimport { ThumbsRating } from '../rating'\nimport { PopoverOrientering } from 'nav-frontend-popover'\n\ninterface Props {\n\thjelpetekstFor: string\n\tchildren: React.ReactNode\n\ttype?: PopoverOrientering\n}\n\nexport class Hjelpetekst extends React.Component<Props> {\n\tuuid: string\n\n\tconstructor(props: Props) {\n\t\tsuper(props)\n\t\tthis.uuid = uuid()\n\t}\n\n\trender() {\n\t\tconst { children, hjelpetekstFor, type } = this.props\n\t\tconst onClick = (e: React.MouseEvent<HTMLDivElement>): void => {\n\t\t\te.stopPropagation()\n\t\t\tLogger.log({\n\t\t\t\tevent: `Trykk p√• hjelpetekst for: ${hjelpetekstFor}`,\n\t\t\t\tuuid: this.uuid\n\t\t\t})\n\t\t}\n\n\t\treturn (\n\t\t\t<div onClick={onClick}>\n\t\t\t\t<NavHjelpeTekst type={type}>\n\t\t\t\t\t{children}\n\t\t\t\t\t<ThumbsRating\n\t\t\t\t\t\tratingFor={`Hjelpetekst for ${hjelpetekstFor}`}\n\t\t\t\t\t\tlabel=\"Svarte teksten p√• sp√∏rsm√•let ditt?\"\n\t\t\t\t\t/>\n\t\t\t\t</NavHjelpeTekst>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import { Hjelpetekst } from './Hjelpetekst'\n\nexport default Hjelpetekst\n","import * as React from 'react'\nimport { useState } from 'react'\nimport Logger from '../../logger'\nimport { Rating } from '../../logger/types'\n// @ts-ignore\nimport Icon from '~/components/ui/icon/Icon'\nimport NavButton from '../ui/button/NavButton/NavButton'\nimport './ThumbsRating.less'\nimport styled from 'styled-components'\n\ninterface ThumbsRatingProps {\n\tlabel: string\n\tratingFor: string\n\tuuid?: string\n\tonClick?: (rating: Rating) => void\n\tchildren?: React.ReactNode\n}\n\nconst ThumbsButton = styled(NavButton)`\n\t&& {\n\t\tborder: 0;\n\t\tpadding: 0 8px;\n\t\tborder-radius: 50%;\n\t\tmargin-left: 7px;\n\t}\n\t&& :focus {\n\t\toutline: none;\n\t\tbox-shadow: 0 0 2px @color-nav-black;\n\t}\n`\n\ninterface IconButton {\n\tclassName?: string\n}\n\nconst ThumpsUp = ({ className }: IconButton) => (\n\t// @ts-ignore\n\t<Icon className={className} kind=\"ThumbsUp\" title=\"tommel opp\" size={24} />\n)\nconst ThumpsDown = ({ className }: IconButton) => (\n\t// @ts-ignore\n\t<Icon className={className} kind=\"ThumbsDown\" title=\"tommel ned\" size={24} />\n)\n\nexport const ThumbsRating = ({ label, ratingFor, onClick, uuid, children }: ThumbsRatingProps) => {\n\tconst [rated, setRated] = useState(false)\n\n\tconst _onClick = (rating: Rating) => {\n\t\tif (onClick) {\n\t\t\tonClick(rating)\n\t\t}\n\t\tLogger.log({ event: `Vurdering av: ${ratingFor}`, rating: rating, uuid: uuid })\n\t\tsetRated(true)\n\t}\n\n\tif (rated) {\n\t\tif (children) {\n\t\t\treturn <>{children}</>\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"thumbs-rating flexbox--all-center\">\n\t\t\t\t<p>Takk for din tilbakemelding.</p>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<div className=\"thumbs-rating flexbox--all-center\">\n\t\t\t<p>{label}</p>\n\t\t\t<ThumbsButton form=\"kompakt\" onClick={() => _onClick(Rating.Positive)}>\n\t\t\t\t<ThumpsUp className=\"thumbs-rating__icon thumbs-rating__icon__left\" />\n\t\t\t</ThumbsButton>\n\t\t\t<ThumbsButton form=\"kompakt\" onClick={() => _onClick(Rating.Negative)}>\n\t\t\t\t<ThumpsDown className=\"thumbs-rating__icon thumbs-rating__icon__right\" />\n\t\t\t</ThumbsButton>\n\t\t</div>\n\t)\n}\n","import React from 'react'\n\nimport './ContentContainer.less'\n\nexport default function ContentContainer({ children }) {\n\treturn <div className=\"content-container\">{children}</div>\n}\n","import React from 'react'\n\nimport './LinkButton.less'\n\nexport default function LinkButton({ text, onClick }) {\n\tconst handleClick = event => {\n\t\tevent.preventDefault()\n\t\tonClick(event)\n\t}\n\n\treturn (\n\t\t<a href=\"#\" className=\"dolly-link-button\" onClick={handleClick}>\n\t\t\t{text}\n\t\t</a>\n\t)\n}\n","import React from 'react'\nimport cn from 'classnames'\nimport './ApiFeilmelding.less'\n\nexport default function ApiFeilmelding({ feilmelding, container }) {\n\tif (!feilmelding || feilmelding === 'OK') return false\n\tconst css = cn('api-feilmelding', {\n\t\t'api-feilmelding-container': container\n\t})\n\treturn <pre className={css}>{feilmelding}</pre>\n}\n","import React from 'react'\nimport { useAsync } from 'react-use'\nimport Formatters from '~/utils/DataFormatter'\n\nexport default function TilgjengeligeMiljoer({ endepunkt, dollyEnvironments }) {\n\tif (!endepunkt) return false\n\n\tconst state = useAsync(async () => {\n\t\tconst response = await endepunkt()\n\t\treturn response\n\t}, [endepunkt])\n\n\tlet message = 'Laster tilgjengelige milj√∏er..'\n\n\tif (state.value && state.value.data) {\n\t\tmessage = Formatters.arrayToString(filterMiljoe(dollyEnvironments, state.value.data))\n\t} else if (state.error) {\n\t\tmessage = state.error.message\n\t}\n\n\treturn <span>{message}</span>\n}\n\nexport const filterMiljoe = (dollyMiljoe, utvalgteMiljoer) => {\n\tif (utvalgteMiljoer === null) return []\n\tconst dollyMiljoeArray = flatDollyMiljoe(dollyMiljoe)\n\n\t//Filtrerer bort de milj√∏ene som er tilgjengelige for fagsystemene eller en mal,\n\t//men ikke Dolly per dags dato\n\treturn utvalgteMiljoer.filter(miljoe => dollyMiljoeArray.includes(miljoe))\n}\n\nconst flatDollyMiljoe = dollymiljoe => {\n\tconst miljoeArray = []\n\tObject.values(dollymiljoe).forEach(miljoeKat =>\n\t\tmiljoeKat.forEach(miljoe => miljoeArray.push(miljoe.id))\n\t)\n\treturn miljoeArray\n}\n","const dollyBackend = '/dolly-backend/api/v1'\nexport const api = {\n\thentMaler: () =>\n\t\tfetch(`${dollyBackend}/bestilling/malbestilling`, {\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error)\n\t\t\t\tthrow error\n\t\t\t}),\n\tslettMal: malId =>\n\t\tfetch(`${dollyBackend}/bestilling/malbestilling/${malId}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error)\n\t\t\t\tthrow error\n\t\t\t}),\n\tendreMalNavn: (malId, malNavn) =>\n\t\tfetch(`${dollyBackend}/bestilling/malbestilling/${malId}`, {\n\t\t\tmethod: 'PUT',\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify({ malNavn }),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error)\n\t\t\t\tthrow error\n\t\t\t})\n}\n","import * as React from 'react'\nimport './Enhetstre.less'\nimport { OrgTree } from '~/components/enhetstre/OrgTree'\n\ntype NodeProps<T> = {\n\tenhet: OrgTree<T>\n\thasChildren: boolean\n\tisSelected: boolean\n\tonNodeClick: (id: string) => void\n}\n\nexport function Node<T>(props: NodeProps<T>) {\n\tconst className = props.hasChildren\n\t\t? props.isSelected\n\t\t\t? 'rectangle-corner-selected'\n\t\t\t: 'rectangle-corner'\n\t\t: props.isSelected\n\t\t? 'rectangle-selected'\n\t\t: 'rectangle'\n\n\treturn (\n\t\t<div onClick={() => props.onNodeClick(props.enhet.getId())} className={className}>\n\t\t\t{props.enhet.getName()}\n\t\t</div>\n\t)\n}\n","import * as React from 'react'\nimport { Node } from './Node'\nimport './Enhetstre.less'\nimport { Org, OrgTree } from '~/components/enhetstre/OrgTree'\n\ntype EnhetstreProps<T extends Org<T>> = {\n\tenheter: OrgTree<T>[]\n\tselectedEnhet: string\n\tonNodeClick: Function\n\tlevel?: number\n}\n\nexport function Enhetstre<T>(props: EnhetstreProps<T>) {\n\tconst hasChildren = (enhet: OrgTree<T>) => {\n\t\treturn enhet.getUnderenheter().length > 0\n\t}\n\n\tconst isSelected = (currentEnhet: string, selected: string) => {\n\t\treturn currentEnhet === selected\n\t}\n\n\tconst level = props.level || 0\n\n\treturn (\n\t\t<div className=\"enhetstre-container\">\n\t\t\t{props.enheter.map((enhet, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={level + i} className=\"enheter\">\n\t\t\t\t\t\t<Node\n\t\t\t\t\t\t\tenhet={enhet}\n\t\t\t\t\t\t\thasChildren={hasChildren(enhet)}\n\t\t\t\t\t\t\tisSelected={isSelected(enhet.getId(), props.selectedEnhet)}\n\t\t\t\t\t\t\tonNodeClick={props.onNodeClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{hasChildren(enhet) && (\n\t\t\t\t\t\t\t<Enhetstre\n\t\t\t\t\t\t\t\tenheter={enhet.getUnderenheter()}\n\t\t\t\t\t\t\t\tselectedEnhet={props.selectedEnhet}\n\t\t\t\t\t\t\t\tonNodeClick={props.onNodeClick}\n\t\t\t\t\t\t\t\tlevel={props.enheter.length}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n","export type Org<T> = { underenheter?: T[]; organisasjonsnavn?: string }\nexport class OrgTree<T extends Org<T>> {\n\tprivate readonly organisajon: T\n\tprivate readonly level: string\n\tprivate readonly underenheter: OrgTree<T>[]\n\n\tconstructor(organisajon: T, level: string) {\n\t\tthis.organisajon = organisajon\n\t\tthis.level = level\n\n\t\tconst createId = (level: string, index: number): string =>\n\t\t\tlevel === '0' ? '' + (index + 1) : level + '.' + (index + 1)\n\n\t\tthis.underenheter =\n\t\t\torganisajon.underenheter?.map((value, index) => new OrgTree(value, createId(level, index))) ||\n\t\t\t[]\n\t}\n\n\tgetName() {\n\t\tif (this.organisajon.organisasjonsnavn) {\n\t\t\treturn this.organisajon.organisasjonsnavn\n\t\t}\n\n\t\treturn this.level === '0' ? 'Organisasjon' : `Underenhet ${this.level}`\n\t}\n\n\tgetId() {\n\t\treturn this.level\n\t}\n\n\tgetUnderenheter() {\n\t\treturn this.underenheter\n\t}\n\n\tfind(id: string): T | null {\n\t\tif (this.level === id) {\n\t\t\treturn this.organisajon\n\t\t}\n\t\treturn this.underenheter.map(value => value.find(id)).find(value => value != null)\n\t}\n}\n","import * as React from 'react'\nimport { useState } from 'react'\nimport { useToggle } from 'react-use'\nimport { ThumbsRating } from '../rating'\nimport { Rating } from '../../logger/types'\nimport Logger from '../../logger'\nimport { Textarea } from 'nav-frontend-skjema'\nimport { Knapp } from 'nav-frontend-knapper'\nimport { DollyCheckbox } from '~/components/ui/form/inputs/checbox/Checkbox'\n// @ts-ignore\nimport { v4 as _uuid } from 'uuid'\n// @ts-ignore\nimport dolly from '~/assets/favicon.ico'\nimport Icon from '~/components/ui/icon/Icon'\n\nimport './Feedback.less'\n\ninterface FeedbackProps {\n\tlabel: string\n\tfeedbackFor: string\n\tbrukerBilde: Response\n}\n\nconst MAX_LENGTH = 2000\n\nexport const Feedback = ({ label, feedbackFor, brukerBilde }: FeedbackProps) => {\n\tconst [rating, setRating] = useState<Rating>()\n\tconst [text, setText] = useState('')\n\tconst [uuid] = useState(_uuid())\n\tconst [submit, setSubmit] = useState(false)\n\tconst [isAnonym, toggleAnonym] = useToggle(false)\n\n\treturn (\n\t\t<ThumbsRating\n\t\t\tlabel={label}\n\t\t\tratingFor={feedbackFor}\n\t\t\tonClick={rating => setRating(rating)}\n\t\t\tuuid={uuid}\n\t\t>\n\t\t\t{!submit && (\n\t\t\t\t<form className=\"feedback-form\">\n\t\t\t\t\t<div className=\"feedback-wrapper\">\n\t\t\t\t\t\t{isAnonym ? (\n\t\t\t\t\t\t\t<Icon kind=\"user\" size={40} className=\"bruker-ikon\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<img alt=\"Profilbilde\" src={brukerBilde ? brukerBilde.url : dolly} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"feedback-input\">\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\tplaceholder={'(Valgfritt) ' + label}\n\t\t\t\t\t\t\t\tmaxLength={MAX_LENGTH}\n\t\t\t\t\t\t\t\tonChange={event => setText(event.target.value)}\n\t\t\t\t\t\t\t\tfeil={\n\t\t\t\t\t\t\t\t\ttext.length > MAX_LENGTH\n\t\t\t\t\t\t\t\t\t\t? { feilmelding: 'Tilbakemelding inneholder for mange tegn' }\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t\t\t<DollyCheckbox label=\"Jeg √∏nsker √• v√¶re anonym\" onChange={toggleAnonym} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"feedback-form__submit\">\n\t\t\t\t\t\t<Knapp\n\t\t\t\t\t\t\tform=\"kompakt\"\n\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\tdisabled={text.length > MAX_LENGTH}\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\tonClick={event => {\n\t\t\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\t\t\tLogger.log({\n\t\t\t\t\t\t\t\t\tevent: `Tilbakemelding for: ${feedbackFor}`,\n\t\t\t\t\t\t\t\t\trating: rating,\n\t\t\t\t\t\t\t\t\tmessage: text,\n\t\t\t\t\t\t\t\t\tuuid: uuid,\n\t\t\t\t\t\t\t\t\tisAnonym: isAnonym\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetSubmit(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t</Knapp>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</ThumbsRating>\n\t)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport './DollyKjede.less'\n\nexport interface KjedeItemProps {\n\tindex: number\n\tselected: boolean\n\tdisabled: boolean\n\ttext: string\n\tonClick: (page: number) => void\n}\n\nconst Button = styled.button`\n\tbackground: transparent;\n\ttext-decoration: ${p => p.style.textDecoration};\n\tcursor: ${p => p.style.cursor};\n\tborder: none;\n\tfont-size: 15px;\n\tpadding: 0 9px 0 9px;\n`\n\nconst disabledText = 'L√•s opp lenkede m√•neder for √• gj√∏re endringer p√• spesifikk m√•ned'\n\nexport default ({ index, selected, disabled, text, onClick }: KjedeItemProps) => {\n\tconst textColor = () => {\n\t\tif (selected) {\n\t\t\treturn 'color-black'\n\t\t} else return disabled ? 'color-grey' : 'color-lightblue'\n\t}\n\n\tconst style = {\n\t\tcursor: selected || disabled ? 'auto' : 'pointer',\n\t\tclassName: textColor(),\n\t\ttextDecoration: selected ? 'none' : 'underline'\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tdisabled={disabled}\n\t\t\tonClick={() => onClick(index)}\n\t\t\tstyle={style}\n\t\t\tclassName={style['className']}\n\t\t\ttitle={disabled ? disabledText : null}\n\t\t>\n\t\t\t{text}\n\t\t</Button>\n\t)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Icon from '~/components/ui/icon/Icon'\n\nexport interface Props {\n\tleft: boolean\n\tdisabled: boolean\n\tonClick: (page: number) => void\n}\n\nconst ArrowButton = styled.button`\n\tbackground: transparent;\n\tcursor: ${p => (p.disabled ? 'auto' : 'pointer')};\n\tborder: none;\n\tfill: ${p => (p.disabled ? 'grey' : 'black')};\n`\n\nexport default ({ left, disabled, onClick }: Props) => {\n\tconst paginationValue = left ? -1 : 1\n\n\treturn (\n\t\t<ArrowButton disabled={disabled} onClick={() => onClick(paginationValue)}>\n\t\t\t<Icon size={14} kind={left ? 'arrow-left' : 'arrow-right'} />\n\t\t</ArrowButton>\n\t)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport KjedeItem from '~/components/dollyKjede/KjedeItem'\nimport ArrowButton from '~/components/dollyKjede/ArrowButton'\nimport './DollyKjede.less'\n\nexport interface Props {\n\tselectedIndex: number\n\tobjectList: string[]\n\tcenterIndices: number[]\n\tdisabled: boolean\n\thandlePagination: (page: number) => void\n\thandleClick: (page: number) => void\n}\n\nconst PaginationContainer = styled.div`\n\tborder-radius: 2px;\n\tmargin: 2px;\n\tpadding: 9px 7px 7px 7px;\n\twidth: 100%;\n`\n\nconst PaginationWrapper = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n`\n\nconst Separator = styled.div`\n\tfont-weight: bold;\n\tmargin: 0 20px 0 20px;\n\tcolor: ${props => props.color};\n`\n\nexport default ({\n\tselectedIndex,\n\tobjectList,\n\tcenterIndices,\n\tdisabled,\n\thandlePagination,\n\thandleClick\n}: Props) => {\n\treturn (\n\t\t<PaginationContainer className={'background-color-bg-divider'}>\n\t\t\t<PaginationWrapper>\n\t\t\t\t<ArrowButton\n\t\t\t\t\tleft={true}\n\t\t\t\t\tdisabled={disabled || centerIndices.length == 0 || centerIndices[0] == 1}\n\t\t\t\t\tonClick={handlePagination}\n\t\t\t\t/>\n\t\t\t\t{objectList.length > 0 && (\n\t\t\t\t\t<KjedeItem\n\t\t\t\t\t\tindex={0}\n\t\t\t\t\t\tselected={selectedIndex === 0}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttext={objectList[0]}\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{centerIndices.length != 0 && centerIndices[0] != 1 && (\n\t\t\t\t\t<Separator color={disabled ? 'grey' : 'black'}>...</Separator>\n\t\t\t\t)}\n\t\t\t\t{centerIndices.map((item, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<KjedeItem\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tindex={item}\n\t\t\t\t\t\t\tselected={selectedIndex == item}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\ttext={objectList[item]}\n\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{centerIndices.length != 0 &&\n\t\t\t\t\tcenterIndices[centerIndices.length - 1] != objectList.length - 2 && (\n\t\t\t\t\t\t<Separator color={disabled ? 'grey' : 'black'}>...</Separator>\n\t\t\t\t\t)}\n\t\t\t\t{objectList.length > 1 && (\n\t\t\t\t\t<KjedeItem\n\t\t\t\t\t\tindex={objectList.length - 1}\n\t\t\t\t\t\tselected={selectedIndex == objectList.length - 1}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttext={objectList[objectList.length - 1]}\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<ArrowButton\n\t\t\t\t\tleft={false}\n\t\t\t\t\tdisabled={\n\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\tcenterIndices.length == 0 ||\n\t\t\t\t\t\tcenterIndices[centerIndices.length - 1] == objectList.length - 2\n\t\t\t\t\t}\n\t\t\t\t\tonClick={handlePagination}\n\t\t\t\t/>\n\t\t\t</PaginationWrapper>\n\t\t</PaginationContainer>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport KjedePagination from '~/components/dollyKjede/KjedePagination'\n\nexport interface DollyKjedeProps {\n\tobjectList: string[]\n\titemLimit: number\n\tselectedIndex: number\n\tsetSelectedIndex: (index: number) => void\n\tisLocked: boolean\n}\n\nconst getCenterIndices = (index: number, antallItems: number, itemLimit: number) => {\n\tif (antallItems < 3) {\n\t\treturn []\n\t}\n\n\tlet indices = [index]\n\n\tif (antallItems <= itemLimit) {\n\t\tindices = Array.from(Array(antallItems).keys())\n\t}\n\n\twhile (\n\t\tindices.length < itemLimit - 3 &&\n\t\t!indices.includes(1) &&\n\t\t!(indices.length == itemLimit - 4 && indices[indices.length - 1] != antallItems - 2)\n\t) {\n\t\tindices.unshift(indices[0] - 1)\n\t}\n\n\twhile (\n\t\tindices.length < itemLimit - 3 &&\n\t\t!indices.includes(antallItems - 2) &&\n\t\t!(indices.length == itemLimit - 4 && indices[0] != 1)\n\t) {\n\t\tindices.push(indices[indices.length - 1] + 1)\n\t}\n\n\tif (indices.includes(0)) {\n\t\tindices = indices.slice(1)\n\t}\n\n\tif (indices.includes(antallItems - 1)) {\n\t\tindices = indices.slice(0, indices.length - 1)\n\t}\n\n\treturn indices\n}\n\nconst getMaxShownItems = (itemLimit: number) => {\n\treturn itemLimit > 10 ? 10 : itemLimit < 5 ? 5 : itemLimit\n}\n\nconst getInitialPaginationIndex = (antallItems: number, maxShownItems: number) => {\n\treturn antallItems >= maxShownItems ? maxShownItems - 4 : antallItems - 2\n}\n\nexport default ({\n\tobjectList,\n\titemLimit,\n\tselectedIndex,\n\tsetSelectedIndex,\n\tisLocked\n}: DollyKjedeProps) => {\n\tuseEffect(() => {\n\t\tsetLocked(isLocked)\n\t}, [isLocked])\n\n\tconst antallItems = objectList.length\n\tconst maxShownItems = getMaxShownItems(itemLimit)\n\n\tconst [locked, setLocked] = useState(isLocked)\n\n\tconst [paginationIndex, setPaginationIndex] = useState(\n\t\tgetInitialPaginationIndex(antallItems, maxShownItems)\n\t)\n\tconst [centerIndices, setCenterIndices] = useState(\n\t\tgetCenterIndices(paginationIndex, antallItems, maxShownItems)\n\t)\n\n\tuseEffect(() => {\n\t\tsetCenterIndices(getCenterIndices(paginationIndex, antallItems, maxShownItems))\n\t}, [antallItems])\n\n\tconst handlePagination = (addValue: number) => {\n\t\tif (centerIndices.length == maxShownItems - 3) {\n\t\t\tif (addValue < 0) {\n\t\t\t\taddValue -= 1\n\t\t\t} else {\n\t\t\t\taddValue += 1\n\t\t\t}\n\t\t}\n\t\tsetCenterIndices(getCenterIndices(paginationIndex + addValue, antallItems, maxShownItems))\n\t\tsetPaginationIndex(paginationIndex + addValue)\n\t}\n\n\tconst handleSelection = (index: number) => {\n\t\tlet newPaginationIndex\n\t\tif (index == 0) {\n\t\t\tnewPaginationIndex = getInitialPaginationIndex(antallItems, maxShownItems)\n\t\t} else if (index == antallItems - 1) {\n\t\t\tnewPaginationIndex = antallItems - 2\n\t\t}\n\t\tif (newPaginationIndex != null) {\n\t\t\tsetCenterIndices(getCenterIndices(newPaginationIndex, antallItems, maxShownItems))\n\t\t\tsetPaginationIndex(newPaginationIndex)\n\t\t}\n\t\tsetSelectedIndex(index)\n\t}\n\n\treturn (\n\t\t<KjedePagination\n\t\t\tselectedIndex={selectedIndex}\n\t\t\tobjectList={objectList}\n\t\t\tcenterIndices={centerIndices}\n\t\t\tdisabled={locked}\n\t\t\thandlePagination={handlePagination}\n\t\t\thandleClick={handleSelection}\n\t\t/>\n\t)\n}\n","export default function antallIdenterOpprettet(bestilling) {\n\tconst { antallIdenter, antallIdenterOpprettet } = bestilling\n\tconst antallTekstPartial =\n\t\tantallIdenterOpprettet < 1 ? 'Ingen' : `${antallIdenterOpprettet} av ${antallIdenter}`\n\tconst tekst = `${antallTekstPartial} bestilte identer ble opprettet i TPSF`\n\n\treturn {\n\t\ttekst,\n\t\tharMangler: antallIdenterOpprettet < antallIdenter\n\t}\n}\n","import React from 'react'\nimport useBoolean from '~/utils/hooks/useBoolean'\nimport DollyModal from '~/components/ui/modal/DollyModal'\nimport Button from '~/components/ui/button/Button'\nimport BestillingSammendrag from '~/components/bestilling/sammendrag/Sammendrag'\n\nexport const BestillingSammendragModal = ({ bestilling }) => {\n\tconst [modalIsOpen, openModal, closeModal] = useBoolean(false)\n\n\treturn (\n\t\t<div className=\"flexbox--align-center--justify-end\">\n\t\t\t<Button onClick={openModal} kind=\"details\">\n\t\t\t\tBESTILLINGSDETALJER\n\t\t\t</Button>\n\t\t\t<DollyModal isOpen={modalIsOpen} closeModal={closeModal} width=\"60%\" overflow=\"auto\">\n\t\t\t\t<h1>Bestilling #{bestilling.id}</h1>\n\t\t\t\t<BestillingSammendrag bestilling={bestilling} modal />\n\t\t\t</DollyModal>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\n\nexport default function JiraLenker({ openAm }) {\n\tif (!openAm) return false\n\n\tconst extractRegNr = link => link.substring(28, link.length)\n\n\treturn (\n\t\t<div>\n\t\t\t<SubOverskrift label=\"Jira-lenker\" />\n\t\t\t<div>\n\t\t\t\t{openAm.map((link, i) => [\n\t\t\t\t\ti > 0 && ', ',\n\t\t\t\t\t<a href={link} key={i} target=\"_blank\">\n\t\t\t\t\t\t{extractRegNr(link)}\n\t\t\t\t\t</a>\n\t\t\t\t])}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport ApiFeilmelding from '~/components/ui/apiFeilmelding/ApiFeilmelding'\nimport Icon from '~/components/ui/icon/Icon'\n\nimport './FagsystemStatus.less'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\n\nexport default function FagsystemStatus({ statusrapport }) {\n\tif (statusrapport.length <= 0) return false\n\n\t// Feilmeldinger som skal ha gul problem-circle legges inn her\n\tconst problemCircleFeil = ['InnvandringOpprettingsmelding: STATUS: TIDSAVBRUDD']\n\n\tconst getIconType = status => {\n\t\tconst melding = status.melding\n\t\treturn melding && !melding.includes('OK')\n\t\t\t? problemCircleFeil.includes(melding) || (status.orgnummer && status.orgnummer !== 'NA')\n\t\t\t\t? 'report-problem-circle'\n\t\t\t\t: 'report-problem-triangle'\n\t\t\t: 'feedback-check-circle'\n\t}\n\n\tif (\n\t\tstatusrapport &&\n\t\tstatusrapport.some(status => status.navn === 'Forvalter av syntetiske organisasjoner')\n\t) {\n\t\treturn (\n\t\t\t<ErrorBoundary>\n\t\t\t\t<table className=\"fagsystemstatus\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>Status</td>\n\t\t\t\t\t\t\t<td>Milj√∏</td>\n\t\t\t\t\t\t\t<td>Orgnr.</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{statusrapport.map((status, idx) => (\n\t\t\t\t\t\t\t<tr key={idx}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div className=\"flexbox\">\n\t\t\t\t\t\t\t\t\t\t{status.melding !== 'P√•g√•ende' && status.melding !== 'Deployer' && (\n\t\t\t\t\t\t\t\t\t\t\t<Icon size={16} kind={getIconType(status)} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h5>{status.navn}</h5>\n\t\t\t\t\t\t\t\t\t\t\t<ApiFeilmelding feilmelding={status.melding} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{status.miljo || <i>Ikke relevant</i>}</td>\n\t\t\t\t\t\t\t\t<td>{status.orgnummer}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</ErrorBoundary>\n\t\t)\n\t}\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<table className=\"fagsystemstatus\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>System</td>\n\t\t\t\t\t\t<td>Milj√∏</td>\n\t\t\t\t\t\t<td>Ident</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{statusrapport.map((status, idx) => (\n\t\t\t\t\t\t<tr key={idx}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\n\t\t\t\t\t\t\t\t\t<Icon size={16} kind={getIconType(status)} />\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>{status.navn}</h5>\n\t\t\t\t\t\t\t\t\t\t<ApiFeilmelding feilmelding={status.melding} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{status.miljo || <i>Ikke relevant</i>}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{status.identer.map((ident, idx) => (\n\t\t\t\t\t\t\t\t\t\t<li key={idx}>{ident}</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</ErrorBoundary>\n\t)\n}\n","import React from 'react'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\nimport Formatters from '~/utils/DataFormatter'\nimport FagsystemStatus from './fagsystemStatus/FagsystemStatus'\nimport ApiFeilmelding from '~/components/ui/apiFeilmelding/ApiFeilmelding'\nimport antallIdenterOpprettet from '~/components/bestilling/utils/antallIdenterOpprettet'\n\nimport './MiljoeStatus.less'\n\nconst mapStatusrapport = bestillingstatus => {\n\tconst successFirst = a => (a.melding ? 1 : -1)\n\treturn bestillingstatus\n\t\t.reduce((acc, curr) => {\n\t\t\treturn acc.concat(\n\t\t\t\tcurr.statuser.map(status => {\n\t\t\t\t\tconst feil = {\n\t\t\t\t\t\tnavn: curr.navn,\n\t\t\t\t\t\tmelding: status.melding !== 'OK' ? status.melding : null\n\t\t\t\t\t}\n\n\t\t\t\t\tif (status.identer) {\n\t\t\t\t\t\tfeil.miljo = null\n\t\t\t\t\t\tfeil.identer = status.identer\n\t\t\t\t\t}\n\n\t\t\t\t\tif (status.orgnummer) {\n\t\t\t\t\t\tfeil.miljo = null\n\t\t\t\t\t\tfeil.orgnummer = status.orgnummer\n\t\t\t\t\t}\n\n\t\t\t\t\tif (status.detaljert) {\n\t\t\t\t\t\tconst miljoArray = status.detaljert.map(m => m.miljo).sort()\n\t\t\t\t\t\tconst identArray = status.detaljert[0].identer\n\t\t\t\t\t\tfeil.miljo = miljoArray[0] ? Formatters.arrayToString(miljoArray) : ''\n\t\t\t\t\t\tfeil.identer = identArray\n\t\t\t\t\t}\n\n\t\t\t\t\treturn feil\n\t\t\t\t})\n\t\t\t)\n\t\t}, [])\n\t\t.sort(successFirst)\n}\n\nexport default function MiljoeStatus({ bestilling }) {\n\tconst erOrganisasjon = bestilling.hasOwnProperty('organisasjonNummer')\n\tconst statusrapport = mapStatusrapport(bestilling.status)\n\tconst { tekst } = antallIdenterOpprettet(bestilling)\n\n\treturn (\n\t\t<div>\n\t\t\t<SubOverskrift label=\"Bestillingsstatus\" />\n\t\t\t{bestilling.feil && (\n\t\t\t\t<div className=\"feilmelding_generell\">\n\t\t\t\t\t{!erOrganisasjon && <p>{tekst}</p>}\n\t\t\t\t\t{statusrapport.length < 1 && <ApiFeilmelding feilmelding={bestilling.feil} container />}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<FagsystemStatus statusrapport={statusrapport} />\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport Bestillingskriterier from './kriterier/Kriterier'\nimport MiljoeStatus from './miljoeStatus/MiljoeStatus'\nimport JiraLenker from '~/components/bestilling/jiraLenker/JiraLenker'\n\nexport default function BestillingSammendrag({ bestilling }) {\n\tif ((!bestilling.antallIdenter || !bestilling.gruppeId) && !bestilling.organisasjonNummer) {\n\t\treturn (\n\t\t\t<div className=\"bestilling-detaljer\">\n\t\t\t\t<MiljoeStatus bestilling={bestilling} />\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<div className=\"bestilling-detaljer\">\n\t\t\t<MiljoeStatus bestilling={bestilling} />\n\t\t\t<Bestillingskriterier\n\t\t\t\tbestilling={bestilling.bestilling}\n\t\t\t\tbestillingsinformasjon={{\n\t\t\t\t\tantallIdenter: bestilling.antallIdenter,\n\t\t\t\t\tsistOppdatert: bestilling.sistOppdatert,\n\t\t\t\t\topprettetFraId: bestilling.opprettetFraId,\n\t\t\t\t\topprettetFraGruppeId: bestilling.opprettetFraGruppeId,\n\t\t\t\t\tnavSyntetiskIdent: bestilling.bestilling.navSyntetiskIdent\n\t\t\t\t}}\n\t\t\t\theader=\"Bestillingskriterier\"\n\t\t\t/>\n\t\t\t<JiraLenker openAm={bestilling.openamSent && bestilling.openamSent.split(',')} />\n\t\t</div>\n\t)\n}\n","import _get from 'lodash/get'\nimport _has from 'lodash/has'\nimport _dropRight from 'lodash/dropRight'\nimport _takeRight from 'lodash/takeRight'\nimport _isEmpty from 'lodash/isEmpty'\nimport Formatters from '~/utils/DataFormatter'\nimport {\n\tAdresseKodeverk,\n\tArbeidKodeverk,\n\tPersoninformasjonKodeverk,\n\tSigrunKodeverk,\n\tVergemaalKodeverk\n} from '~/config/kodeverk'\n\n// TODO: Flytte til selector?\n// - Denne kan forminskes ved bruk av hjelpefunksjoner\n// - N√•r vi f√•r p√• plass en bedre struktur for bestillingsprosessen, kan\n//   mest sannsynlig visse props fjernes herfra (width?)\n\nconst obj = (label, value, apiKodeverkId) => ({\n\tlabel,\n\tvalue,\n\t...(apiKodeverkId && { apiKodeverkId })\n})\n\nconst _getTpsfBestillingData = data => {\n\treturn [\n\t\tobj('Identtype', data.identtype),\n\t\tobj('F√∏dt etter', Formatters.formatDate(data.foedtEtter)),\n\t\tobj('F√∏dt f√∏r', Formatters.formatDate(data.foedtFoer)),\n\t\tobj('Alder', data.alder),\n\t\tobj('D√∏dsdato', data.doedsdato === null ? 'Ingen' : Formatters.formatDate(data.doedsdato)),\n\t\tobj('Statsborgerskap', data.statsborgerskap, AdresseKodeverk.StatsborgerskapLand),\n\t\tobj('Statsborgerskap fra', Formatters.formatDate(data.statsborgerskapRegdato)),\n\t\tobj('Statsborgerskap til', Formatters.formatDate(data.statsborgerskapTildato)),\n\t\tobj('Kj√∏nn', Formatters.kjonn(data.kjonn, data.alder)),\n\t\tobj('Har mellomnavn', Formatters.oversettBoolean(data.harMellomnavn)),\n\t\tobj('Sivilstand', data.sivilstand, PersoninformasjonKodeverk.Sivilstander),\n\t\tobj('Diskresjonskoder', data.spesreg !== 'UFB' && data.spesreg, 'Diskresjonskoder'),\n\t\tobj('Uten fast bopel', (data.utenFastBopel || data.spesreg === 'UFB') && 'JA'),\n\t\tobj('Spr√•k', data.sprakKode, PersoninformasjonKodeverk.Spraak),\n\t\tobj('Innvandret fra land', data.innvandretFraLand, AdresseKodeverk.InnvandretUtvandretLand),\n\t\tobj('Innvandret dato', Formatters.formatDate(data.innvandretFraLandFlyttedato)),\n\t\tobj('Utvandret til land', data.utvandretTilLand, AdresseKodeverk.InnvandretUtvandretLand),\n\t\tobj('Utvandret dato', Formatters.formatDate(data.utvandretTilLandFlyttedato)),\n\t\tobj('Er forsvunnet', Formatters.oversettBoolean(data.erForsvunnet)),\n\t\tobj('Forsvunnet dato', Formatters.formatDate(data.forsvunnetDato)),\n\t\tobj('Har bankkontonummer', Formatters.oversettBoolean(data.harBankkontonr)),\n\t\tobj('Bankkonto opprettet', Formatters.formatDate(data.bankkontonrRegdato)),\n\t\tobj(\n\t\t\tdata.telefonnummer_2 ? 'Telefonnummer 1' : 'Telefonnummer',\n\t\t\tdata.telefonnummer_1 && `${data.telefonLandskode_1} ${data.telefonnummer_1}`\n\t\t),\n\t\tobj(\n\t\t\t'Telefonnummer 2',\n\t\t\tdata.telefonnummer_2 && `${data.telefonLandskode_2} ${data.telefonnummer_2}`\n\t\t),\n\t\tobj('Skjerming fra', Formatters.formatDate(data.egenAnsattDatoFom)),\n\t\tobj('Skjerming til', Formatters.formatDate(data.egenAnsattDatoTom))\n\t]\n}\n\nexport function mapBestillingData(bestillingData, bestillingsinformasjon) {\n\tif (!bestillingData) return null\n\n\tconst data = []\n\n\tif (bestillingsinformasjon) {\n\t\tconst bestillingsInfo = {\n\t\t\theader: 'Bestillingsinformasjon',\n\t\t\titems: [\n\t\t\t\tobj(\n\t\t\t\t\t'Antall',\n\t\t\t\t\tbestillingsinformasjon.antallIdenter && bestillingsinformasjon.antallIdenter.toString()\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Type testperson',\n\t\t\t\t\tbestillingsinformasjon.navSyntetiskIdent ? 'NAV syntetisk' : 'Standard'\n\t\t\t\t),\n\t\t\t\tobj('Sist Oppdatert', Formatters.formatDate(bestillingsinformasjon.sistOppdatert)),\n\t\t\t\tobj(\n\t\t\t\t\t'Gjenopprettet fra',\n\t\t\t\t\tbestillingsinformasjon.opprettetFraId\n\t\t\t\t\t\t? `Bestilling # ${bestillingsinformasjon.opprettetFraId}`\n\t\t\t\t\t\t: bestillingsinformasjon.opprettetFraGruppeId &&\n\t\t\t\t\t\t\t\t`Gruppe # ${bestillingsinformasjon.opprettetFraGruppeId}`\n\t\t\t\t)\n\t\t\t]\n\t\t}\n\t\tdata.push(bestillingsInfo)\n\t}\n\n\tif (bestillingData.tpsf) {\n\t\tconst {\n\t\t\tboadresse,\n\t\t\tpostadresse,\n\t\t\tmidlertidigAdresse,\n\t\t\tadresseNrInfo,\n\t\t\tidentHistorikk,\n\t\t\trelasjoner,\n\t\t\tvergemaal,\n\t\t\tfullmakt,\n\t\t\t...persondetaljer\n\t\t} = bestillingData.tpsf\n\n\t\tif (!_isEmpty(persondetaljer)) {\n\t\t\tconst personinfo = {\n\t\t\t\theader: 'Persondetaljer',\n\t\t\t\titems: _getTpsfBestillingData(bestillingData.tpsf)\n\t\t\t}\n\n\t\t\tdata.push(personinfo)\n\t\t}\n\t\tif (boadresse) {\n\t\t\tif (adresseNrInfo) {\n\t\t\t\tconst adresseNrInfoObj = {\n\t\t\t\t\theader: `Boadresse basert p√• ${Formatters.showLabel(\n\t\t\t\t\t\t'adresseNrType',\n\t\t\t\t\t\tadresseNrInfo.nummertype\n\t\t\t\t\t)}`,\n\t\t\t\t\titems: [\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t`${Formatters.showLabel('adresseNrType', adresseNrInfo.nummertype)}`,\n\t\t\t\t\t\t\tadresseNrInfo.nummer ? adresseNrInfo.nummer : 'Tilfeldig'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj('Bruksenhetsnummer', boadresse.bolignr),\n\t\t\t\t\t\tobj('Flyttedato', Formatters.formatDate(boadresse.flyttedato))\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(adresseNrInfoObj)\n\t\t\t} else {\n\t\t\t\tconst adresse = {\n\t\t\t\t\theader: 'Bostedadresse',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\theader: 'Bosted'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tobj('Adressetype', Formatters.adressetypeToString(boadresse.adressetype)),\n\t\t\t\t\t\tobj('Gatenavn', boadresse.gateadresse),\n\t\t\t\t\t\tobj('Husnummer', boadresse.husnummer),\n\t\t\t\t\t\tobj('Stedsnavn', boadresse.mellomnavn),\n\t\t\t\t\t\tobj('G√•rdsnummer', boadresse.gardsnr),\n\t\t\t\t\t\tobj('Bruksnummer', boadresse.bruksnr),\n\t\t\t\t\t\tobj('Festenummer', boadresse.festenr),\n\t\t\t\t\t\tobj('Undernummer', boadresse.undernr),\n\t\t\t\t\t\tobj('Postnummer', boadresse.postnr),\n\t\t\t\t\t\tobj('Kommunenummer', boadresse.kommunenr),\n\t\t\t\t\t\tobj('Bruksenhetsnummer', boadresse.bolignr),\n\t\t\t\t\t\tobj('Flyttedato', Formatters.formatDate(boadresse.flyttedato))\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(adresse)\n\t\t\t}\n\t\t\tif (boadresse.tilleggsadresse) {\n\t\t\t\tconst tilleggsadresse = {\n\t\t\t\t\theader: 'Tilleggsadresse',\n\t\t\t\t\titems: [\n\t\t\t\t\t\tobj('Tilfeldig adresse', boadresse.tilleggsadresse === {} && 'Ja'),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Tilleggstype',\n\t\t\t\t\t\t\tFormatters.showLabel('tilleggstype', boadresse.tilleggsadresse.tilleggType)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj('Nummer', boadresse.tilleggsadresse.nummer)\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(tilleggsadresse)\n\t\t\t}\n\t\t}\n\n\t\tif (postadresse) {\n\t\t\tconst postadr = bestillingData.tpsf.postadresse[0]\n\t\t\tconst postadresse = {\n\t\t\t\theader: 'Postadresse',\n\t\t\t\titems: [\n\t\t\t\t\tobj('Land', postadr.postLand),\n\t\t\t\t\tobj('Adresselinje 1', postadr.postLinje1),\n\t\t\t\t\tobj('Adresselinje 2', postadr.postLinje2),\n\t\t\t\t\tobj('Adresselinje 3', postadr.postLinje3)\n\t\t\t\t]\n\t\t\t}\n\t\t\tdata.push(postadresse)\n\t\t}\n\n\t\tif (midlertidigAdresse) {\n\t\t\tlet typeGateadresse = null\n\t\t\tif (midlertidigAdresse.adressetype === 'GATE') {\n\t\t\t\tif (midlertidigAdresse.gateadresseNrInfo) {\n\t\t\t\t\ttypeGateadresse = `Tilfeldig, basert p√• ${Formatters.showLabel(\n\t\t\t\t\t\t'adresseNrType',\n\t\t\t\t\t\tmidlertidigAdresse.gateadresseNrInfo.nummertype\n\t\t\t\t\t)}`\n\t\t\t\t} else if (midlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.gatenavn) {\n\t\t\t\t\ttypeGateadresse = 'Detaljert'\n\t\t\t\t} else {\n\t\t\t\t\ttypeGateadresse = 'Tilfeldig'\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst midlertidigAdresseObj = {\n\t\t\t\theader: 'Midlertidig adresse',\n\t\t\t\titems: [\n\t\t\t\t\tobj('Adressetype', Formatters.showLabel('adresseType', midlertidigAdresse.adressetype)),\n\t\t\t\t\tobj('Gyldig t.o.m.', Formatters.formatDate(midlertidigAdresse.gyldigTom)),\n\t\t\t\t\tobj('Type gateadresse', typeGateadresse),\n\t\t\t\t\tobj(\n\t\t\t\t\t\tmidlertidigAdresse.gateadresseNrInfo &&\n\t\t\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t\t\t'adresseNrType',\n\t\t\t\t\t\t\t\tmidlertidigAdresse.gateadresseNrInfo.nummertype\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tmidlertidigAdresse.gateadresseNrInfo && midlertidigAdresse.gateadresseNrInfo.nummer\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Gatenavn',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.gatenavn\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Husnummer',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.husnr\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Eiendomsnavn',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.eiendomsnavn\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postboksnummer',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.postboksnr\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postboksanlegg',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.postboksAnlegg\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postnummer',\n\t\t\t\t\t\tmidlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.postnr\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postlinje 1',\n\t\t\t\t\t\tmidlertidigAdresse.utenlandskAdresse && midlertidigAdresse.utenlandskAdresse.postLinje1\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postlinje 2',\n\t\t\t\t\t\tmidlertidigAdresse.utenlandskAdresse && midlertidigAdresse.utenlandskAdresse.postLinje2\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postlinje 3',\n\t\t\t\t\t\tmidlertidigAdresse.utenlandskAdresse && midlertidigAdresse.utenlandskAdresse.postLinje3\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Land',\n\t\t\t\t\t\tmidlertidigAdresse.utenlandskAdresse && midlertidigAdresse.utenlandskAdresse.postLand,\n\t\t\t\t\t\tAdresseKodeverk.PostadresseLand\n\t\t\t\t\t)\n\t\t\t\t]\n\t\t\t}\n\t\t\tdata.push(midlertidigAdresseObj)\n\n\t\t\tif (midlertidigAdresse.norskAdresse && midlertidigAdresse.norskAdresse.tilleggsadresse) {\n\t\t\t\tconst midlertidigTilleggsadresseObj = {\n\t\t\t\t\theader: 'Midlertidig tilleggsadresse',\n\t\t\t\t\titems: [\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Tilleggstype',\n\t\t\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t\t\t'tilleggstypeMidlertidig',\n\t\t\t\t\t\t\t\tmidlertidigAdresse.norskAdresse.tilleggsadresse.tilleggType\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj('Nummer', midlertidigAdresse.norskAdresse.tilleggsadresse.nummer)\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(midlertidigTilleggsadresseObj)\n\t\t\t}\n\t\t}\n\n\t\tif (identHistorikk) {\n\t\t\tconst identhistorikkData = {\n\t\t\t\theader: 'Identhistorikk',\n\t\t\t\titemRows: identHistorikk.map((ident, idx) => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumberHeader: `Identhistorikk ${idx + 1}`\n\t\t\t\t\t\t},\n\t\t\t\t\t\tobj('Identtype', ident.identtype),\n\t\t\t\t\t\tobj('Kj√∏nn', Formatters.kjonnToString(ident.kjonn)),\n\t\t\t\t\t\tobj('Utg√•tt dato', Formatters.formatDate(ident.regdato)),\n\t\t\t\t\t\tobj('F√∏dt f√∏r', Formatters.formatDate(ident.foedtFoer)),\n\t\t\t\t\t\tobj('F√∏dt Etter', Formatters.formatDate(ident.foedtEtter))\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t}\n\t\t\tdata.push(identhistorikkData)\n\t\t}\n\n\t\tif (relasjoner) {\n\t\t\tconst partnere = relasjoner.partner || relasjoner.partnere\n\t\t\tconst barn = relasjoner.barn\n\t\t\tconst foreldre = relasjoner.foreldre\n\n\t\t\tif (partnere) {\n\t\t\t\tconst partner = {\n\t\t\t\t\theader: 'Partner',\n\t\t\t\t\titemRows: []\n\t\t\t\t}\n\n\t\t\t\tpartnere.forEach((item, j) => {\n\t\t\t\t\tconst sivilstander = _get(item, 'sivilstander', [])\n\t\t\t\t\tconst sisteSivilstand = _takeRight(sivilstander)\n\n\t\t\t\t\tconst tidligereSivilstander = _dropRight(sivilstander)\n\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t.map(s => s.sivilstand)\n\n\t\t\t\t\tpartner.itemRows.push([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\tvalue: `#${j + 1}`,\n\t\t\t\t\t\t\twidth: 'x-small'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t..._getTpsfBestillingData(item),\n\t\t\t\t\t\tobj('Fnr/dnr/bost', item.ident),\n\t\t\t\t\t\tobj('Bor sammen', Formatters.oversettBoolean(item.harFellesAdresse)),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Sivilstand',\n\t\t\t\t\t\t\tsisteSivilstand.length > 0 && sisteSivilstand[0].sivilstand,\n\t\t\t\t\t\t\tPersoninformasjonKodeverk.Sivilstander\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj('Tidligere sivilstander', Formatters.arrayToString(tidligereSivilstander))\n\t\t\t\t\t])\n\t\t\t\t})\n\n\t\t\t\tdata.push(partner)\n\t\t\t}\n\n\t\t\tif (barn && barn.length > 0) {\n\t\t\t\tconst barn = {\n\t\t\t\t\theader: 'Barn',\n\t\t\t\t\titemRows: []\n\t\t\t\t}\n\n\t\t\t\trelasjoner.barn.forEach((item, i) => {\n\t\t\t\t\tbarn.itemRows.push([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\tvalue: `#${i + 1}`,\n\t\t\t\t\t\t\twidth: 'x-small'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t..._getTpsfBestillingData(item),\n\t\t\t\t\t\tobj('Fnr/dnr/bost', item.ident),\n\t\t\t\t\t\tobj('Forelder 2', item.partnerIdent),\n\t\t\t\t\t\tobj('Foreldre', Formatters.showLabel('barnType', item.barnType)), //Bruke samme funksjon som i bestillingsveileder\n\t\t\t\t\t\tobj('Bor hos', Formatters.showLabel('barnBorHos', item.borHos)),\n\t\t\t\t\t\tobj('Er adoptert', Formatters.oversettBoolean(item.erAdoptert)),\n\t\t\t\t\t\tobj('F√∏dselsdato', Formatters.formatDate(item.foedselsdato))\n\t\t\t\t\t])\n\t\t\t\t})\n\n\t\t\t\tdata.push(barn)\n\t\t\t}\n\t\t\tif (foreldre && foreldre.length > 0) {\n\t\t\t\tconst foreldreRows = {\n\t\t\t\t\theader: 'Foreldre',\n\t\t\t\t\titemRows: []\n\t\t\t\t}\n\n\t\t\t\trelasjoner.foreldre.forEach((item, i) => {\n\t\t\t\t\tforeldreRows.itemRows.push([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\tvalue: `#${i + 1}`,\n\t\t\t\t\t\t\twidth: 'x-small'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t..._getTpsfBestillingData(item),\n\t\t\t\t\t\tobj('Fnr/dnr/bost', item.ident),\n\t\t\t\t\t\tobj('ForeldreType', Formatters.showLabel('foreldreType', item.foreldreType)),\n\t\t\t\t\t\tobj('Foreldre bor sammen', Formatters.oversettBoolean(item.harFellesAdresse)),\n\t\t\t\t\t\tobj('Diskresjonskoder', item.spesreg !== 'UFB' && item.spesreg, 'Diskresjonskoder'),\n\t\t\t\t\t\tobj('F√∏dselsdato', Formatters.formatDate(item.foedselsdato))\n\t\t\t\t\t])\n\t\t\t\t})\n\n\t\t\t\tdata.push(foreldreRows)\n\t\t\t}\n\t\t}\n\n\t\tif (vergemaal) {\n\t\t\tconst vergemaalKriterier = {\n\t\t\t\theader: 'Vergem√•l',\n\t\t\t\titems: [\n\t\t\t\t\tobj('Fylkesmannsembete', vergemaal.embete, VergemaalKodeverk.Fylkesmannsembeter),\n\t\t\t\t\tobj('Sakstype', vergemaal.sakType, VergemaalKodeverk.Sakstype),\n\t\t\t\t\tobj('Mandattype', vergemaal.mandatType, VergemaalKodeverk.Mandattype),\n\t\t\t\t\tobj('Vedtaksdato', Formatters.formatDate(vergemaal.vedtakDato)),\n\t\t\t\t\tobj('Verges identtype', vergemaal.identType),\n\t\t\t\t\tobj('Verge har mellomnavn', Formatters.oversettBoolean(vergemaal.harMellomnavn))\n\t\t\t\t]\n\t\t\t}\n\t\t\tdata.push(vergemaalKriterier)\n\t\t}\n\n\t\tif (fullmakt) {\n\t\t\tconst fullmaktKriterier = {\n\t\t\t\theader: 'Fullmakt',\n\t\t\t\titems: [\n\t\t\t\t\tobj('Kilde', fullmakt.kilde),\n\t\t\t\t\tobj('Omr√•der', Formatters.omraaderArrayToString(fullmakt.omraader)),\n\t\t\t\t\tobj('Gyldig fra og med', Formatters.formatDate(fullmakt.gyldigFom)),\n\t\t\t\t\tobj('Gyldig til og med', Formatters.formatDate(fullmakt.gyldigTom)),\n\t\t\t\t\tobj('Fullmektiges identtype', fullmakt.identType),\n\t\t\t\t\tobj('Fullmektig har mellomnavn', Formatters.oversettBoolean(fullmakt.harMellomnavn))\n\t\t\t\t]\n\t\t\t}\n\t\t\tdata.push(fullmaktKriterier)\n\t\t}\n\t}\n\n\tconst aaregKriterier = bestillingData.aareg\n\tif (aaregKriterier) {\n\t\tconst aareg = {\n\t\t\theader: 'Arbeidsforhold (Aareg)',\n\t\t\titems: [],\n\t\t\titemRows: [],\n\t\t\tpaginering: [],\n\t\t\tpagineringPages: []\n\t\t}\n\n\t\tconst harAmelding = _has(aaregKriterier[0], 'amelding')\n\t\tconst arbeidsforholdVisning = (arbeidsforhold, i) => [\n\t\t\t{\n\t\t\t\tnumberHeader: `Arbeidsforhold ${i + 1}`\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Type arbeidsforhold',\n\t\t\t\tvalue:\n\t\t\t\t\tarbeidsforhold.arbeidsforholdstype ||\n\t\t\t\t\t(!harAmelding && aaregKriterier.arbeidsforholdstype),\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Arbeidsforholdstyper\n\t\t\t},\n\t\t\tobj('Orgnummer', arbeidsforhold.arbeidsgiver?.orgnummer),\n\t\t\tobj('Arbeidsgiver ident', arbeidsforhold.arbeidsgiver?.ident),\n\t\t\tobj('Arbeidsforhold-ID', arbeidsforhold.arbeidsforholdID),\n\t\t\tobj('Ansatt fra', Formatters.formatDate(arbeidsforhold.ansettelsesPeriode?.fom)),\n\t\t\tobj('Ansatt til', Formatters.formatDate(arbeidsforhold.ansettelsesPeriode?.tom)),\n\t\t\t{\n\t\t\t\tlabel: 'Slutt√•rsak',\n\t\t\t\tvalue: arbeidsforhold.ansettelsesPeriode?.sluttaarsak,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.SluttaarsakAareg\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Yrke',\n\t\t\t\tvalue: arbeidsforhold.arbeidsavtale?.yrke,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Yrker\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Ansettelsesform',\n\t\t\t\tvalue: arbeidsforhold.arbeidsavtale?.ansettelsesform,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.AnsettelsesformAareg\n\t\t\t},\n\t\t\tobj(\n\t\t\t\t'Stillingprosent',\n\t\t\t\tarbeidsforhold.arbeidsavtale?.stillingsprosent === 0\n\t\t\t\t\t? '0'\n\t\t\t\t\t: arbeidsforhold.arbeidsavtale?.stillingsprosent\n\t\t\t),\n\t\t\tobj(\n\t\t\t\t'Endringsdato stillingprosent',\n\t\t\t\tFormatters.formatDate(arbeidsforhold.arbeidsavtale?.endringsdatoStillingsprosent)\n\t\t\t),\n\t\t\tobj(\n\t\t\t\t'Endringsdato l√∏nn',\n\t\t\t\tFormatters.formatDate(arbeidsforhold.arbeidsavtale?.sisteLoennsendringsdato)\n\t\t\t),\n\t\t\t{\n\t\t\t\tlabel: 'Arbeidstidsordning',\n\t\t\t\tvalue: arbeidsforhold.arbeidsavtale?.arbeidstidsordning,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Arbeidstidsordninger\n\t\t\t},\n\t\t\tobj('Avtalte arbeidstimer per uke', arbeidsforhold.arbeidsavtale?.avtaltArbeidstimerPerUke),\n\t\t\t{\n\t\t\t\tlabel: 'Skipsregister',\n\t\t\t\tvalue: arbeidsforhold.fartoy?.[0].skipsregister,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Skipsregistre\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Fart√∏ystype',\n\t\t\t\tvalue: arbeidsforhold.fartoy?.[0].skipstype,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Skipstyper\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Fartsomr√•de',\n\t\t\t\tvalue: arbeidsforhold.fartoy?.[0].fartsomraade,\n\t\t\t\tapiKodeverkId: ArbeidKodeverk.Fartsomr√•der\n\t\t\t},\n\t\t\tobj(\n\t\t\t\t'Perioder med antall timer for timel√∏nnet',\n\t\t\t\tarbeidsforhold.antallTimerForTimeloennet?.length\n\t\t\t),\n\t\t\tobj('Perioder med utenlandsopphold', arbeidsforhold.utenlandsopphold?.length),\n\t\t\tobj('Perioder med permisjon', arbeidsforhold.permisjon?.length),\n\t\t\tobj('Perioder med permittering', arbeidsforhold.permittering?.length)\n\t\t]\n\n\t\tif (harAmelding) {\n\t\t\taareg.items.push(\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Type arbeidsforhold',\n\t\t\t\t\tvalue: aaregKriterier[0]?.arbeidsforholdstype,\n\t\t\t\t\tapiKodeverkId: ArbeidKodeverk.Arbeidsforholdstyper\n\t\t\t\t},\n\t\t\t\tobj('F.o.m. kalenderm√•ned', Formatters.formatDate(aaregKriterier[0]?.genererPeriode?.fom)),\n\t\t\t\tobj('T.o.m. kalenderm√•ned', Formatters.formatDate(aaregKriterier[0]?.genererPeriode?.tom))\n\t\t\t)\n\t\t\taaregKriterier[0]?.amelding.forEach(maaned => {\n\t\t\t\tconst data = {\n\t\t\t\t\titemRows: []\n\t\t\t\t}\n\t\t\t\tmaaned.arbeidsforhold.forEach((arbeidsforhold, i) => {\n\t\t\t\t\tdata.itemRows.push(arbeidsforholdVisning(arbeidsforhold, i))\n\t\t\t\t})\n\t\t\t\taareg.pagineringPages.push(maaned.maaned)\n\t\t\t\taareg.paginering.push(data)\n\t\t\t})\n\t\t} else if (aaregKriterier[0]?.arbeidsgiver) {\n\t\t\taaregKriterier.forEach((arbeidsforhold, i) => {\n\t\t\t\taareg.itemRows.push(arbeidsforholdVisning(arbeidsforhold, i))\n\t\t\t})\n\t\t}\n\n\t\tdata.push(aareg)\n\t}\n\n\tconst sigrunStubKriterier = bestillingData.sigrunstub\n\n\tif (sigrunStubKriterier) {\n\t\t// Flatter ut sigrunKriterier for √• gj√∏re det lettere √• mappe\n\t\tconst flatSigrunStubKriterier = []\n\t\tsigrunStubKriterier.forEach(inntekt => {\n\t\t\tconst inntektObj = { inntektsaar: inntekt.inntektsaar, tjeneste: inntekt.tjeneste }\n\t\t\tinntekt.grunnlag &&\n\t\t\t\tinntekt.grunnlag.forEach(gr => {\n\t\t\t\t\tflatSigrunStubKriterier.push({\n\t\t\t\t\t\t...inntektObj,\n\t\t\t\t\t\tgrunnlag: gr.tekniskNavn,\n\t\t\t\t\t\tverdi: gr.verdi,\n\t\t\t\t\t\tinntektssted: 'Fastlands-Norge'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\tinntekt.svalbardGrunnlag &&\n\t\t\t\tinntekt.svalbardGrunnlag.forEach(gr => {\n\t\t\t\t\tflatSigrunStubKriterier.push({\n\t\t\t\t\t\t...inntektObj,\n\t\t\t\t\t\tsvalbardGrunnlag: gr.tekniskNavn,\n\t\t\t\t\t\tverdi: gr.verdi,\n\t\t\t\t\t\tinntektssted: 'Svalbard'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t})\n\n\t\tconst sigrunStub = {\n\t\t\theader: 'Skatteoppgj√∏r (Sigrun)',\n\t\t\titemRows: []\n\t\t}\n\n\t\tflatSigrunStubKriterier.forEach((inntekt, i) => {\n\t\t\tsigrunStub.itemRows.push([\n\t\t\t\t{\n\t\t\t\t\tnumberHeader: `Inntekt ${i + 1}`\n\t\t\t\t},\n\t\t\t\tobj('√Ör', inntekt.inntektsaar),\n\t\t\t\tobj('Bel√∏p', inntekt.verdi),\n\t\t\t\tobj('Tjeneste', Formatters.uppercaseAndUnderscoreToCapitalized(inntekt.tjeneste)),\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Grunnlag (Fastlands-Norge)',\n\t\t\t\t\tvalue: inntekt.grunnlag,\n\t\t\t\t\twidth: 'xlarge',\n\t\t\t\t\tapiKodeverkId: SigrunKodeverk[inntekt.tjeneste]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Grunnlag (Svalbard)',\n\t\t\t\t\tvalue: inntekt.svalbardGrunnlag,\n\t\t\t\t\twidth: 'xlarge',\n\t\t\t\t\tapiKodeverkId: SigrunKodeverk[inntekt.tjeneste]\n\t\t\t\t}\n\t\t\t])\n\t\t})\n\n\t\tdata.push(sigrunStub)\n\t}\n\n\tconst inntektStubKriterier = bestillingData.inntektstub\n\n\tif (inntektStubKriterier) {\n\t\tconst inntektStub = {\n\t\t\theader: 'A-ordningen (Inntektskomponenten)',\n\t\t\t// items: [\n\t\t\t// \tobj('Prosent√∏kning per √•r', inntektStubKriterier.prosentOekningPerAaar)\n\t\t\t// ],\n\t\t\titemRows: []\n\t\t}\n\n\t\tinntektStubKriterier.inntektsinformasjon &&\n\t\t\tinntektStubKriterier.inntektsinformasjon.forEach((inntektsinfo, i) => {\n\t\t\t\tinntektStub.itemRows.push([\n\t\t\t\t\t{ numberHeader: `Inntektsinformasjon ${i + 1}` },\n\t\t\t\t\tobj('√Ör/m√•ned', inntektsinfo.sisteAarMaaned),\n\t\t\t\t\tobj('Generer antall m√•neder', inntektsinfo.antallMaaneder),\n\t\t\t\t\tobj('Virksomhet (orgnr/id)', inntektsinfo.virksomhet),\n\t\t\t\t\tobj('Opplysningspliktig (orgnr/id)', inntektsinfo.opplysningspliktig),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Antall registrerte inntekter',\n\t\t\t\t\t\tinntektsinfo.inntektsliste && inntektsinfo.inntektsliste.length\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Antall registrerte fradrag',\n\t\t\t\t\t\tinntektsinfo.fradragsliste && inntektsinfo.fradragsliste.length\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Antall registrerte forskuddstrekk',\n\t\t\t\t\t\tinntektsinfo.forskuddstrekksliste && inntektsinfo.forskuddstrekksliste.length\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Antall registrerte arbeidsforhold',\n\t\t\t\t\t\tinntektsinfo.arbeidsforholdsliste && inntektsinfo.arbeidsforholdsliste.length\n\t\t\t\t\t),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Antall registrerte inntektsendringer (historikk)',\n\t\t\t\t\t\tinntektsinfo.historikk && inntektsinfo.historikk.length\n\t\t\t\t\t)\n\t\t\t\t])\n\t\t\t})\n\n\t\tdata.push(inntektStub)\n\t}\n\n\tconst sykemeldingKriterier = _get(bestillingData, 'sykemelding')\n\n\tif (sykemeldingKriterier) {\n\t\tconst sykemelding = {\n\t\t\theader: 'Sykemelding',\n\t\t\titems: sykemeldingKriterier.syntSykemelding\n\t\t\t\t? [\n\t\t\t\t\t\tobj('Startdato', Formatters.formatDate(sykemeldingKriterier.syntSykemelding.startDato)),\n\t\t\t\t\t\tobj('Organisasjonsnummer', sykemeldingKriterier.syntSykemelding.orgnummer),\n\t\t\t\t\t\tobj('Arbeidsforhold-ID', sykemeldingKriterier.syntSykemelding.arbeidsforholdId)\n\t\t\t\t  ]\n\t\t\t\t: sykemeldingKriterier.detaljertSykemelding\n\t\t\t\t? [\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Startdato',\n\t\t\t\t\t\t\tFormatters.formatDate(sykemeldingKriterier.detaljertSykemelding.startDato)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Trenger umiddelbar bistand',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.umiddelbarBistand ? 'JA' : 'NEI'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Manglende tilrettelegging p√• arbeidsplassen',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.manglendeTilretteleggingPaaArbeidsplassen\n\t\t\t\t\t\t\t\t? 'JA'\n\t\t\t\t\t\t\t\t: 'NEI'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Diagnose',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'hovedDiagnose.diagnose')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Diagnosekode',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'hovedDiagnose.diagnosekode')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Antall registrerte bidiagnoser',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.biDiagnoser &&\n\t\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.biDiagnoser.length\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Helsepersonell navn',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.helsepersonell &&\n\t\t\t\t\t\t\t\t`${sykemeldingKriterier.detaljertSykemelding.helsepersonell.fornavn} ${\n\t\t\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.helsepersonell.mellomnavn\n\t\t\t\t\t\t\t\t\t\t? sykemeldingKriterier.detaljertSykemelding.helsepersonell.mellomnavn\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t} ${sykemeldingKriterier.detaljertSykemelding.helsepersonell.etternavn}`\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Helsepersonell ident',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'helsepersonell.ident')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'HPR-nummer',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'helsepersonell.hprId')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'SamhandlerType',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'helsepersonell.samhandlerType')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Arbeidsgiver',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'arbeidsgiver.navn')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Yrkesbetegnelse',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'arbeidsgiver.yrkesbetegnelse'),\n\t\t\t\t\t\t\tArbeidKodeverk.Yrker\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Stillingsprosent',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'arbeidsgiver.stillingsprosent')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Antall registrerte perioder',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.perioder.length\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Tiltak fra NAV',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'detaljer.tiltakNav')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Tiltak p√• arbeidsplass',\n\t\t\t\t\t\t\t_get(sykemeldingKriterier.detaljertSykemelding, 'detaljer.tiltakArbeidsplass')\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Hensyn p√• arbeidsplass',\n\t\t\t\t\t\t\t_get(\n\t\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding,\n\t\t\t\t\t\t\t\t'detaljer.beskrivHensynArbeidsplassen'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tobj(\n\t\t\t\t\t\t\t'Arbeidsf√∏r etter endt periode',\n\t\t\t\t\t\t\tsykemeldingKriterier.detaljertSykemelding.detaljer &&\n\t\t\t\t\t\t\t\t(sykemeldingKriterier.detaljertSykemelding.detaljer.arbeidsforEtterEndtPeriode\n\t\t\t\t\t\t\t\t\t? 'JA'\n\t\t\t\t\t\t\t\t\t: 'NEI')\n\t\t\t\t\t\t)\n\t\t\t\t  ]\n\t\t\t\t: null\n\t\t}\n\t\tdata.push(sykemelding)\n\t}\n\n\tconst brregstubKriterier = bestillingData.brregstub\n\n\tif (brregstubKriterier) {\n\t\tconst brregstub = {\n\t\t\theader: 'Br√∏nn√∏ysundregistrene',\n\t\t\titems: [obj('Understatuser', Formatters.arrayToString(brregstubKriterier.understatuser))],\n\t\t\titemRows: []\n\t\t}\n\t\tbrregstubKriterier.enheter.forEach((enhet, i) => {\n\t\t\tbrregstub.itemRows.push([\n\t\t\t\t{ numberHeader: `Enhet ${i + 1}` },\n\t\t\t\tobj('Rolle', enhet.rolle),\n\t\t\t\tobj('Registreringsdato', Formatters.formatDate(enhet.registreringsdato)),\n\t\t\t\tobj('Organisasjonsnummer', enhet.orgNr),\n\t\t\t\tobj('Foretaksnavn', enhet.foretaksNavn.navn1),\n\t\t\t\tobj('Antall registrerte personroller', enhet.personroller && enhet.personroller.length)\n\t\t\t])\n\t\t})\n\n\t\tdata.push(brregstub)\n\t}\n\n\tconst krrKriterier = bestillingData.krrstub\n\n\tif (krrKriterier) {\n\t\tconst krrStub = {\n\t\t\theader: 'Kontaktinformasjon og reservasjon',\n\t\t\titems: [\n\t\t\t\tobj('Registrert i KRR', krrKriterier.registrert ? 'JA' : 'NEI'),\n\t\t\t\t{\n\t\t\t\t\tlabel: 'RESERVERT MOT DIGITALKOMMUNIKASJON',\n\t\t\t\t\tvalue: krrKriterier.reservert === null ? null : krrKriterier.reservert ? 'JA' : 'NEI',\n\t\t\t\t\twidth: 'medium'\n\t\t\t\t},\n\t\t\t\tobj('Epost', krrKriterier.epost),\n\t\t\t\tobj('Mobilnummer', krrKriterier.mobil),\n\t\t\t\tobj('Spr√•k', Formatters.showLabel('spraaktype', krrKriterier.spraak)),\n\t\t\t\tobj('Gyldig fra', Formatters.formatDate(krrKriterier.gyldigFra)),\n\t\t\t\tobj('Adresse', krrKriterier.sdpAdresse),\n\t\t\t\tobj('Leverand√∏r', krrKriterier.sdpLeverandoer)\n\t\t\t]\n\t\t}\n\n\t\tdata.push(krrStub)\n\t}\n\n\tconst pdlforvalterKriterier = bestillingData.pdlforvalter\n\n\tif (pdlforvalterKriterier) {\n\t\tconst doedsboKriterier = pdlforvalterKriterier.kontaktinformasjonForDoedsbo\n\t\tif (doedsboKriterier) {\n\t\t\tconst navnType = doedsboKriterier.adressat.navn\n\t\t\t\t? 'navn'\n\t\t\t\t: doedsboKriterier.adressat.kontaktperson\n\t\t\t\t? 'kontaktperson'\n\t\t\t\t: null\n\t\t\tconst doedsbo = {\n\t\t\t\theader: 'Kontaktinformasjon for d√∏dsbo',\n\t\t\t\titems: [\n\t\t\t\t\tobj('Fornavn', navnType && doedsboKriterier.adressat[navnType].fornavn),\n\t\t\t\t\tobj('Mellomnavn', navnType && doedsboKriterier.adressat[navnType].mellomnavn),\n\t\t\t\t\tobj('Etternavn', navnType && doedsboKriterier.adressat[navnType].etternavn),\n\t\t\t\t\tobj('Fnr/dnr/BOST', doedsboKriterier.adressat.idnummer),\n\t\t\t\t\tobj('F√∏dselsdato', Formatters.formatDate(doedsboKriterier.adressat.foedselsdato)),\n\t\t\t\t\tobj('Organisasjonsnavn', doedsboKriterier.adressat.organisasjonsnavn),\n\t\t\t\t\tobj('Organisasjonsnummer', doedsboKriterier.adressat.organisasjonsnummer),\n\t\t\t\t\tobj('Adresselinje 1', doedsboKriterier.adresselinje1),\n\t\t\t\t\tobj('Adresselinje 2', doedsboKriterier.adresselinje2),\n\t\t\t\t\tobj(\n\t\t\t\t\t\t'Postnummer og -sted',\n\t\t\t\t\t\t`${doedsboKriterier.postnummer} ${doedsboKriterier.poststedsnavn}`\n\t\t\t\t\t),\n\t\t\t\t\tobj('Land', doedsboKriterier.landkode, AdresseKodeverk.PostadresseLand),\n\t\t\t\t\tobj('Skifteform', doedsboKriterier.skifteform),\n\t\t\t\t\tobj('Dato utstedt', Formatters.formatDate(doedsboKriterier.utstedtDato)),\n\t\t\t\t\tobj('Gyldig fra', Formatters.formatDate(doedsboKriterier.gyldigFom)),\n\t\t\t\t\tobj('Gyldig til', Formatters.formatDate(doedsboKriterier.gyldigTom))\n\t\t\t\t]\n\t\t\t}\n\t\t\tdata.push(doedsbo)\n\t\t}\n\n\t\tif (pdlforvalterKriterier.utenlandskIdentifikasjonsnummer) {\n\t\t\tconst uidnr = pdlforvalterKriterier.utenlandskIdentifikasjonsnummer\n\n\t\t\tconst flatUidnrKriterier = []\n\t\t\tuidnr.forEach(ui => {\n\t\t\t\tflatUidnrKriterier.push({\n\t\t\t\t\tidentifikasjonsnummer: ui.identifikasjonsnummer,\n\t\t\t\t\tkilde: ui.kilde,\n\t\t\t\t\topphoert: ui.opphoert,\n\t\t\t\t\tutstederland: ui.utstederland\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst uidnrObj = {\n\t\t\t\theader: 'Utenlandsk identifikasjonsnummer',\n\t\t\t\titemRows: []\n\t\t\t}\n\n\t\t\tflatUidnrKriterier.forEach((uidr, i) => {\n\t\t\t\tuidnrObj.itemRows.push([\n\t\t\t\t\t{\n\t\t\t\t\t\tnumberHeader: `Utenlandsk identifikasjonsnummer ${i + 1}`\n\t\t\t\t\t},\n\t\t\t\t\tobj('Utenlandsk ID', uidr.identifikasjonsnummer),\n\t\t\t\t\tobj('Kilde', uidr.kilde),\n\t\t\t\t\tobj('Utenlandsk ID opph√∏rt', Formatters.oversettBoolean(uidr.opphoert)),\n\t\t\t\t\tobj('Utstederland', uidr.utstederland, AdresseKodeverk.Utstederland)\n\t\t\t\t])\n\t\t\t})\n\t\t\tdata.push(uidnrObj)\n\t\t}\n\n\t\tif (pdlforvalterKriterier.falskIdentitet) {\n\t\t\tconst falskIdData = pdlforvalterKriterier.falskIdentitet.rettIdentitet\n\n\t\t\tif (falskIdData.identitetType === 'UKJENT') {\n\t\t\t\tconst falskId = {\n\t\t\t\t\theader: 'Falsk identitet',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Rett identitet',\n\t\t\t\t\t\t\tvalue: 'Ukjent'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(falskId)\n\t\t\t} else if (falskIdData.identitetType === 'ENTYDIG') {\n\t\t\t\tconst falskId = {\n\t\t\t\t\theader: 'Falsk identitet',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Rett f√∏dselsnummer',\n\t\t\t\t\t\t\tvalue: falskIdData.rettIdentitetVedIdentifikasjonsnummer\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(falskId)\n\t\t\t} else if (falskIdData.identitetType === 'OMTRENTLIG') {\n\t\t\t\tconst falskId = {\n\t\t\t\t\theader: 'Falsk identitet',\n\t\t\t\t\titems: [\n\t\t\t\t\t\tobj('Rett identitet', 'Kjent ved personopplysninger'),\n\t\t\t\t\t\tobj('Fornavn', falskIdData.personnavn.fornavn),\n\t\t\t\t\t\tobj('Mellomnavn', falskIdData.personnavn.mellomnavn),\n\t\t\t\t\t\tobj('Etternavn', falskIdData.personnavn.etternavn),\n\t\t\t\t\t\tobj('Kj√∏nn', falskIdData.kjoenn),\n\t\t\t\t\t\tobj('F√∏dselsdato', Formatters.formatDate(falskIdData.foedselsdato)),\n\t\t\t\t\t\tobj('Statsborgerskap', Formatters.arrayToString(falskIdData.statsborgerskap))\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tdata.push(falskId)\n\t\t\t}\n\t\t}\n\t}\n\tconst arenaKriterier = bestillingData.arenaforvalter\n\n\tif (arenaKriterier) {\n\t\tconst arenaforvalter = {\n\t\t\theader: 'Arbeidsytelser',\n\t\t\titems: [\n\t\t\t\tobj(\n\t\t\t\t\t'Brukertype',\n\t\t\t\t\tFormatters.uppercaseAndUnderscoreToCapitalized(arenaKriterier.arenaBrukertype)\n\t\t\t\t),\n\t\t\t\tobj('Servicebehov', arenaKriterier.kvalifiseringsgruppe),\n\t\t\t\tobj(\n\t\t\t\t\t'Automatisk innsending av meldekort',\n\t\t\t\t\tFormatters.oversettBoolean(arenaKriterier.automatiskInnsendingAvMeldekort)\n\t\t\t\t),\n\t\t\t\tobj('Inaktiv fra dato', Formatters.formatDate(arenaKriterier.inaktiveringDato)),\n\t\t\t\tobj('Har 11-5 vedtak', Formatters.oversettBoolean(arenaKriterier.aap115?.[0] && true)),\n\t\t\t\tobj(\n\t\t\t\t\t'AAP 11-5 fra dato',\n\t\t\t\t\tarenaKriterier.aap115?.[0] && Formatters.formatDate(arenaKriterier.aap115[0].fraDato)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Har AAP vedtak UA - positivt utfall',\n\t\t\t\t\tFormatters.oversettBoolean(arenaKriterier.aap?.[0] && true)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'AAP fra dato',\n\t\t\t\t\tarenaKriterier.aap?.[0] && Formatters.formatDate(arenaKriterier.aap[0].fraDato)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'AAP til dato',\n\t\t\t\t\tarenaKriterier.aap?.[0] && Formatters.formatDate(arenaKriterier.aap[0].tilDato)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Har dagpengevedtak',\n\t\t\t\t\tFormatters.oversettBoolean(arenaKriterier.dagpenger?.[0] && true)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'RettighetKode',\n\t\t\t\t\tarenaKriterier.dagpenger?.[0] &&\n\t\t\t\t\t\tFormatters.showLabel('rettighetKode', arenaKriterier.dagpenger[0].rettighetKode)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Dagpenger fra dato',\n\t\t\t\t\tarenaKriterier.dagpenger?.[0] &&\n\t\t\t\t\t\tFormatters.formatDate(arenaKriterier.dagpenger[0].fraDato)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Dagpenger til dato',\n\t\t\t\t\tarenaKriterier.dagpenger?.[0] &&\n\t\t\t\t\t\tFormatters.formatDate(arenaKriterier.dagpenger[0].tilDato)\n\t\t\t\t)\n\t\t\t]\n\t\t}\n\t\tdata.push(arenaforvalter)\n\t}\n\n\tconst instKriterier = bestillingData.instdata\n\n\tif (instKriterier) {\n\t\t// Flater ut instKriterier for √• gj√∏re det lettere √• mappe\n\n\t\tconst flatInstKriterier = []\n\t\tinstKriterier.forEach(i => {\n\t\t\tflatInstKriterier.push({\n\t\t\t\tinstitusjonstype: i.institusjonstype,\n\t\t\t\tvarighet: i.varighet,\n\t\t\t\tstartdato: i.startdato,\n\t\t\t\tsluttdato: i.sluttdato\n\t\t\t})\n\t\t})\n\n\t\tconst instObj = {\n\t\t\theader: 'Institusjonsopphold',\n\t\t\titemRows: []\n\t\t}\n\n\t\tflatInstKriterier.forEach((inst, i) => {\n\t\t\tinstObj.itemRows.push([\n\t\t\t\t{\n\t\t\t\t\tnumberHeader: `Institusjonsopphold ${i + 1}`\n\t\t\t\t},\n\t\t\t\tobj('Institusjonstype', Formatters.showLabel('institusjonstype', inst.institusjonstype)),\n\t\t\t\tobj('Varighet', inst.varighet && Formatters.showLabel('varighet', inst.varighet)),\n\t\t\t\tobj('Startdato', Formatters.formatDate(inst.startdato)),\n\t\t\t\tobj('Sluttdato', Formatters.formatDate(inst.sluttdato))\n\t\t\t])\n\t\t})\n\t\tdata.push(instObj)\n\t}\n\n\tconst udiStubKriterier = bestillingData.udistub\n\n\tif (udiStubKriterier) {\n\t\tconst oppholdKriterier = udiStubKriterier.oppholdStatus\n\t\tconst arbeidsadgangKriterier = udiStubKriterier.arbeidsadgang\n\n\t\tconst oppholdsrettTyper = [\n\t\t\t'eosEllerEFTABeslutningOmOppholdsrett',\n\t\t\t'eosEllerEFTAVedtakOmVarigOppholdsrett',\n\t\t\t'eosEllerEFTAOppholdstillatelse'\n\t\t]\n\t\tconst currentOppholdsrettType =\n\t\t\toppholdKriterier && oppholdsrettTyper.find(type => oppholdKriterier[type])\n\n\t\tconst currentTredjelandsborgereStatus =\n\t\t\toppholdKriterier && oppholdKriterier.oppholdSammeVilkaar\n\t\t\t\t? 'Oppholdstillatelse eller opphold p√• samme vilk√•r'\n\t\t\t\t: oppholdKriterier && oppholdKriterier.uavklart\n\t\t\t\t? 'Uavklart'\n\t\t\t\t: udiStubKriterier.harOppholdsTillatelse === false\n\t\t\t\t? 'Ikke oppholdstillatelse eller ikke opphold p√• samme vilk√•r'\n\t\t\t\t: null\n\n\t\tconst oppholdsrett = Boolean(currentOppholdsrettType)\n\t\tconst tredjelandsborger = Boolean(currentTredjelandsborgereStatus)\n\n\t\tconst aliaserListe = []\n\t\tudiStubKriterier.aliaser &&\n\t\t\tudiStubKriterier.aliaser.forEach((alias, i) => {\n\t\t\t\tif (alias.nyIdent === false) {\n\t\t\t\t\taliaserListe.push(`#${i + 1} Navn\\n`)\n\t\t\t\t} else {\n\t\t\t\t\taliaserListe.push(`#${i + 1} ID-nummer - ${alias.identtype}\\n`)\n\t\t\t\t}\n\t\t\t})\n\n\t\tconst udistub = {\n\t\t\theader: 'UDI',\n\t\t\titems: [\n\t\t\t\tobj(\n\t\t\t\t\t'Oppholdsstatus',\n\t\t\t\t\toppholdsrett ? 'E√òS-eller EFTA-opphold' : tredjelandsborger ? 'Tredjelandsborger' : null\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Type opphold',\n\t\t\t\t\toppholdsrett && Formatters.showLabel('eosEllerEFTAtypeOpphold', currentOppholdsrettType)\n\t\t\t\t),\n\t\t\t\tobj('Status', currentTredjelandsborgereStatus),\n\t\t\t\tobj(\n\t\t\t\t\t'Oppholdstillatelse fra dato',\n\t\t\t\t\tFormatters.formatDate(\n\t\t\t\t\t\t_get(oppholdKriterier, `${currentOppholdsrettType}Periode.fra`) ||\n\t\t\t\t\t\t\t_get(oppholdKriterier, 'oppholdSammeVilkaar.oppholdSammeVilkaarPeriode.fra')\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Oppholdstillatelse til dato',\n\t\t\t\t\tFormatters.formatDate(\n\t\t\t\t\t\t_get(oppholdKriterier, `${currentOppholdsrettType}Periode.til`) ||\n\t\t\t\t\t\t\t_get(oppholdKriterier, 'oppholdSammeVilkaar.oppholdSammeVilkaarPeriode.til')\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Effektueringsdato',\n\t\t\t\t\tFormatters.formatDate(\n\t\t\t\t\t\t_get(oppholdKriterier, `${currentOppholdsrettType}Effektuering`) ||\n\t\t\t\t\t\t\t_get(oppholdKriterier, 'oppholdSammeVilkaar.oppholdSammeVilkaarEffektuering')\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Grunnlag for opphold',\n\t\t\t\t\toppholdsrett &&\n\t\t\t\t\t\tFormatters.showLabel(currentOppholdsrettType, oppholdKriterier[currentOppholdsrettType])\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Type oppholdstillatelse',\n\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t'oppholdstillatelseType',\n\t\t\t\t\t\t_get(oppholdKriterier, 'oppholdSammeVilkaar.oppholdstillatelseType')\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Vedtaksdato',\n\t\t\t\t\tFormatters.formatDate(\n\t\t\t\t\t\t_get(oppholdKriterier, 'oppholdSammeVilkaar.oppholdstillatelseVedtaksDato')\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Avgj√∏relsesdato',\n\t\t\t\t\tFormatters.formatDate(\n\t\t\t\t\t\t_get(\n\t\t\t\t\t\t\toppholdKriterier,\n\t\t\t\t\t\t\t'ikkeOppholdstilatelseIkkeVilkaarIkkeVisum.avslagEllerBortfall.avgjorelsesDato'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Har arbeidsadgang',\n\t\t\t\t\tFormatters.allCapsToCapitalized(\n\t\t\t\t\t\tarbeidsadgangKriterier && arbeidsadgangKriterier.harArbeidsAdgang\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Type arbeidsadgang',\n\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t'typeArbeidsadgang',\n\t\t\t\t\t\tarbeidsadgangKriterier && arbeidsadgangKriterier.typeArbeidsadgang\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Arbeidsomfang',\n\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t'arbeidsOmfang',\n\t\t\t\t\t\tarbeidsadgangKriterier && arbeidsadgangKriterier.arbeidsOmfang\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Arbeidsadgang fra dato',\n\t\t\t\t\tFormatters.formatDate(_get(arbeidsadgangKriterier, 'periode.fra'))\n\t\t\t\t),\n\t\t\t\tobj(\n\t\t\t\t\t'Arbeidsadgang til dato',\n\t\t\t\t\tFormatters.formatDate(_get(arbeidsadgangKriterier, 'periode.til'))\n\t\t\t\t),\n\t\t\t\tobj('Hjemmel', _get(arbeidsadgangKriterier, 'hjemmel')),\n\t\t\t\tobj('Forklaring', _get(arbeidsadgangKriterier, 'forklaring')),\n\t\t\t\tobj('Alias', aliaserListe.length > 0 && aliaserListe),\n\t\t\t\tobj('Flyktningstatus', Formatters.oversettBoolean(udiStubKriterier.flyktning)),\n\t\t\t\tobj(\n\t\t\t\t\t'Asyls√∏ker',\n\t\t\t\t\tFormatters.showLabel(\n\t\t\t\t\t\t'jaNeiUavklart',\n\t\t\t\t\t\tudiStubKriterier.soeknadOmBeskyttelseUnderBehandling\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t]\n\t\t}\n\t\tdata.push(udistub)\n\t}\n\n\tconst pensjonKriterier = bestillingData.pensjonforvalter\n\n\tif (pensjonKriterier) {\n\t\tconst pensjonforvalter = {\n\t\t\theader: 'Pensjonsgivende inntekt (POPP)',\n\t\t\titems: [\n\t\t\t\tobj('Fra og med √•r', pensjonKriterier.inntekt.fomAar),\n\t\t\t\tobj('Til og med √•r', pensjonKriterier.inntekt.tomAar),\n\t\t\t\tobj('Bel√∏p', pensjonKriterier.inntekt.belop),\n\t\t\t\tobj(\n\t\t\t\t\t'Nedjuster med grunnbel√∏p',\n\t\t\t\t\tFormatters.oversettBoolean(pensjonKriterier.inntekt.redusertMedGrunnbelop)\n\t\t\t\t)\n\t\t\t]\n\t\t}\n\n\t\tdata.push(pensjonforvalter)\n\t}\n\n\tconst inntektsmeldingKriterier = bestillingData.inntektsmelding\n\n\tconst mapInntektsmeldingKriterier = meldinger => ({\n\t\theader: 'Inntektsmelding (fra Altinn)',\n\t\titemRows: meldinger.map((inntekt, i) => [\n\t\t\t{\n\t\t\t\tnumberHeader: `Inntekt ${i + 1}`\n\t\t\t},\n\t\t\tobj('√Örsak til innsending', Formatters.codeToNorskLabel(inntekt.aarsakTilInnsending)),\n\t\t\tobj('Ytelse', Formatters.codeToNorskLabel(inntekt.ytelse)),\n\t\t\tobj('N√¶r relasjon', Formatters.oversettBoolean(inntekt.naerRelasjon)),\n\t\t\tobj(\n\t\t\t\t'Innsendingstidspunkt',\n\t\t\t\tFormatters.formatDate(inntekt.avsendersystem.innsendingstidspunkt)\n\t\t\t),\n\n\t\t\tobj('Arbeidsgiver (orgnr)', inntekt.arbeidsgiver && inntekt.arbeidsgiver.virksomhetsnummer),\n\t\t\tobj(\n\t\t\t\t'Arbeidsgiver (fnr/dnr/bost)',\n\t\t\t\tinntekt.arbeidsgiverPrivat && inntekt.arbeidsgiverPrivat.arbeidsgiverFnr\n\t\t\t),\n\t\t\tobj('Arbeidsforhold-ID', inntekt.arbeidsforhold.arbeidsforholdId),\n\t\t\tobj('Bel√∏p', inntekt.arbeidsforhold.beregnetInntekt.beloep),\n\t\t\tobj(\n\t\t\t\t'√Örsak ved endring',\n\t\t\t\tFormatters.codeToNorskLabel(inntekt.arbeidsforhold.aarsakVedEndring)\n\t\t\t),\n\t\t\tobj('F√∏rste frav√¶rsdag', Formatters.formatDate(inntekt.arbeidsforhold.foersteFravaersdag)),\n\t\t\tobj(\n\t\t\t\t'Avtalte ferier',\n\t\t\t\tinntekt.arbeidsforhold.avtaltFerieListe && inntekt.arbeidsforhold.avtaltFerieListe.length\n\t\t\t),\n\t\t\t//Refusjon\n\t\t\tobj('Refusjonsbel√∏p per m√•ned', inntekt.refusjon.refusjonsbeloepPrMnd),\n\t\t\tobj('Opph√∏rsdato refusjon', Formatters.formatDate(inntekt.refusjon.refusjonsopphoersdato)),\n\t\t\tobj(\n\t\t\t\t'Endring i refusjon',\n\t\t\t\t_has(inntekt, 'refusjon.endringIRefusjonListe') && inntekt.refusjon.endringIRefusjonListe\n\t\t\t),\n\t\t\t//Omsorg\n\t\t\tobj('Har utbetalt pliktige dager', _get(inntekt, 'omsorgspenger.harUtbetaltPliktigeDager')),\n\t\t\tobj(\n\t\t\t\t'Frav√¶rsperioder',\n\t\t\t\t_has(inntekt, 'omsorgspenger.fravaersPerioder') &&\n\t\t\t\t\tinntekt.omsorgspenger.fravaersPerioder.length\n\t\t\t),\n\t\t\tobj(\n\t\t\t\t'Delvis frav√¶r',\n\t\t\t\t_has(inntekt, 'omsorgspenger.delvisFravaersListe') &&\n\t\t\t\t\tinntekt.omsorgspenger.delvisFravaersListe.length\n\t\t\t),\n\t\t\t//Sykepenger\n\t\t\tobj('Brutto utbetalt', _get(inntekt, 'sykepengerIArbeidsgiverperioden.bruttoUtbetalt')),\n\t\t\tobj(\n\t\t\t\t'Begrunnelse for reduksjon eller ikke utbetalt',\n\t\t\t\tFormatters.codeToNorskLabel(\n\t\t\t\t\t_get(inntekt, 'sykepengerIArbeidsgiverperioden.begrunnelseForReduksjonEllerIkkeUtbetalt')\n\t\t\t\t)\n\t\t\t),\n\t\t\tobj(\n\t\t\t\t'Arbeidsgiverperioder',\n\t\t\t\t_has(inntekt, 'sykepengerIArbeidsgiverperioden.arbeidsgiverperiodeListe') &&\n\t\t\t\t\tinntekt.sykepengerIArbeidsgiverperioden.arbeidsgiverperiodeListe.length\n\t\t\t),\n\t\t\t//Foreldrepenger\n\t\t\tobj('Startdato foreldrepenger', Formatters.formatDate(inntekt.startdatoForeldrepengeperiode)),\n\t\t\t//Pleiepenger\n\t\t\tobj('Pleiepengerperioder', inntekt.pleiepengerPerioder && inntekt.pleiepengerPerioder.length),\n\t\t\t//Naturalytelse\n\t\t\tobj(\n\t\t\t\t'Gjenopptagelse Naturalytelse',\n\t\t\t\tinntekt.gjenopptakelseNaturalytelseListe && inntekt.gjenopptakelseNaturalytelseListe.length\n\t\t\t),\n\t\t\tobj(\n\t\t\t\t'Opph√∏r av Naturalytelse',\n\t\t\t\tinntekt.opphoerAvNaturalytelseListe && inntekt.opphoerAvNaturalytelseListe.length\n\t\t\t)\n\t\t])\n\t})\n\n\tconst tomInntektsmelding = {\n\t\theader: 'Inntektsmelding (fra Altinn)',\n\t\titems: [obj('Inntektsmelding', 'Tom bestilling')]\n\t}\n\n\tif (inntektsmeldingKriterier) {\n\t\tif (_isEmpty(inntektsmeldingKriterier.inntekter)) {\n\t\t\tdata.push(tomInntektsmelding)\n\t\t} else data.push(mapInntektsmeldingKriterier(inntektsmeldingKriterier.inntekter))\n\t}\n\n\tconst dokarkivKriterier = bestillingData.dokarkiv\n\n\tif (dokarkivKriterier) {\n\t\tconst dokarkiv = {\n\t\t\theader: 'Dokumenter',\n\t\t\titems: [\n\t\t\t\tobj('Brevkode', dokarkivKriterier.dokumenter[0].brevkode),\n\t\t\t\tobj('Tittel', dokarkivKriterier.tittel),\n\t\t\t\tobj('Tema', dokarkivKriterier.tema),\n\t\t\t\tobj('Journalf√∏rende enhet', dokarkivKriterier.journalfoerendeEnhet),\n\t\t\t\tobj('Antall vedlegg', dokarkivKriterier.dokumenter.length)\n\t\t\t]\n\t\t}\n\n\t\tdata.push(dokarkiv)\n\t}\n\n\tconst organisasjonKriterier = bestillingData.organisasjon\n\n\tif (organisasjonKriterier) {\n\t\tconst forretningsadresse = organisasjonKriterier[0].forretningsadresse\n\t\tconst postadresse = organisasjonKriterier[0].postadresse\n\t\tconst organisasjon = {\n\t\t\theader: 'Organisasjonsdetaljer',\n\t\t\titems: [\n\t\t\t\tobj('Enhetstype', organisasjonKriterier[0].enhetstype),\n\t\t\t\tobj('N√¶ringskode', organisasjonKriterier[0].naeringskode),\n\t\t\t\tobj('Sektorkode', organisasjonKriterier[0].sektorkode),\n\t\t\t\tobj('Form√•l', organisasjonKriterier[0].formaal),\n\t\t\t\tobj('Stiftelsesdato', Formatters.formatDate(organisasjonKriterier[0].stiftelsesdato)),\n\t\t\t\tobj('M√•lform', Formatters.showLabel('maalform', organisasjonKriterier[0].maalform)),\n\t\t\t\tobj('Telefon', organisasjonKriterier[0].telefon),\n\t\t\t\tobj('E-postadresse', organisasjonKriterier[0].epost),\n\t\t\t\tobj('Internettadresse', organisasjonKriterier[0].nettside)\n\t\t\t]\n\t\t}\n\n\t\tconst forretningsadresseKriterier = {\n\t\t\theader: 'Forretningsadresse',\n\t\t\titems: [\n\t\t\t\tobj('Land', forretningsadresse && forretningsadresse.landkode),\n\t\t\t\tobj('Postnummer', forretningsadresse && forretningsadresse.postnr),\n\t\t\t\tobj('Poststed', forretningsadresse && forretningsadresse.poststed),\n\t\t\t\tobj('Kommunenummer', forretningsadresse && forretningsadresse.kommunenr),\n\t\t\t\tobj('Adresselinje 1', forretningsadresse && forretningsadresse.adresselinjer[0]),\n\t\t\t\tobj('Adresselinje 2', forretningsadresse && forretningsadresse.adresselinjer[1]),\n\t\t\t\tobj('Adresselinje 3', forretningsadresse && forretningsadresse.adresselinjer[2])\n\t\t\t]\n\t\t}\n\n\t\tconst postadresseKriterier = {\n\t\t\theader: 'Postadresse',\n\t\t\titems: [\n\t\t\t\tobj('Land', postadresse && postadresse.landkode),\n\t\t\t\tobj('Postnummer', postadresse && postadresse.postnr),\n\t\t\t\tobj('Poststed', postadresse && postadresse.poststed),\n\t\t\t\tobj('Kommunenummer', postadresse && postadresse.kommunenr),\n\t\t\t\tobj('Adresselinje 1', postadresse && postadresse.adresselinjer[0]),\n\t\t\t\tobj('Adresselinje 2', postadresse && postadresse.adresselinjer[1]),\n\t\t\t\tobj('Adresselinje 3', postadresse && postadresse.adresselinjer[2])\n\t\t\t]\n\t\t}\n\n\t\tdata.push(organisasjon)\n\t\tforretningsadresse && data.push(forretningsadresseKriterier)\n\t\tpostadresse && data.push(postadresseKriterier)\n\t}\n\n\tconst importFraTps = bestillingData.importFraTps\n\n\tif (importFraTps) {\n\t\tconst importData = {\n\t\t\theader: 'Import',\n\t\t\titems: [\n\t\t\t\tobj('Identer', Formatters.arrayToString(importFraTps)),\n\t\t\t\tobj('Importert fra', bestillingData.kildeMiljoe.toUpperCase())\n\t\t\t]\n\t\t}\n\n\t\tdata.push(importData)\n\t}\n\n\treturn data\n}\n","import React, { useState } from 'react'\nimport { Enhetstre, OrgTree } from '~/components/enhetstre'\nimport { mapBestillingData } from './BestillingKriterieMapper'\nimport { EnhetBestilling } from '~/components/fagsystem/organisasjoner/types'\n\ntype OrganisasjonKriterier = {\n\tdata: EnhetBestilling\n\trender: Function\n}\n\nexport const OrganisasjonKriterier = ({ data, render }: OrganisasjonKriterier) => {\n\tif (!data) return null\n\n\tconst [selectedId, setSelectedId] = useState('0')\n\n\tconst orgTree = new OrgTree(data, '0')\n\n\treturn (\n\t\t<div>\n\t\t\t<h4>Organisasjonsoversikt</h4>\n\t\t\t<Enhetstre enheter={[orgTree]} selectedEnhet={selectedId} onNodeClick={setSelectedId} />\n\t\t\t{render(mapBestillingData({ organisasjon: [orgTree.find(selectedId)] }))}\n\t\t</div>\n\t)\n}\n","import React, { Fragment, useState } from 'react'\nimport cn from 'classnames'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\nimport { TitleValue } from '~/components/ui/titleValue/TitleValue'\nimport { mapBestillingData } from './BestillingKriterieMapper'\nimport { OrganisasjonKriterier } from './OrganisasjonKriterier'\nimport DollyKjede from '~/components/dollyKjede/DollyKjede'\n\nconst _renderBestillingsDetaljer = data => {\n\tconst [selectedIndex, setSelectedIndex] = useState(0)\n\n\treturn data.map((kategori, j) => {\n\t\tconst bottomBorder = j != data.length - 1\n\t\tconst cssClass = cn('flexbox--align-start info-text', {\n\t\t\t'bottom-border': bottomBorder\n\t\t})\n\t\tif (kategori.header) {\n\t\t\treturn (\n\t\t\t\t<Fragment key={j}>\n\t\t\t\t\t<h4>{kategori.header} </h4>\n\t\t\t\t\t{kategori.items && (\n\t\t\t\t\t\t<div className={cssClass}>{kategori.items.map(_renderStaticValue)}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{kategori.paginering?.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DollyKjede\n\t\t\t\t\t\t\t\tobjectList={kategori.pagineringPages}\n\t\t\t\t\t\t\t\titemLimit={10}\n\t\t\t\t\t\t\t\tselectedIndex={selectedIndex}\n\t\t\t\t\t\t\t\tsetSelectedIndex={setSelectedIndex}\n\t\t\t\t\t\t\t\tisLocked={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className={cn('info-text', { 'bottom-border': bottomBorder })}>\n\t\t\t\t\t\t\t\t{kategori.paginering[selectedIndex].itemRows.map((row, i) => (\n\t\t\t\t\t\t\t\t\t<div className=\"dfa-blokk\" key={i}>\n\t\t\t\t\t\t\t\t\t\t{row[0].numberHeader && <h4>{row[0].numberHeader}</h4>}\n\t\t\t\t\t\t\t\t\t\t<div className={'flexbox--align-start flexbox--wrap'} key={i}>\n\t\t\t\t\t\t\t\t\t\t\t{row.map(_renderStaticValue)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{kategori.itemRows && (\n\t\t\t\t\t\t<div className={cn('info-text', { 'bottom-border': bottomBorder })}>\n\t\t\t\t\t\t\t{kategori.itemRows.map((row, i) => (\n\t\t\t\t\t\t\t\t<div className=\"dfa-blokk\" key={i}>\n\t\t\t\t\t\t\t\t\t{/*className endres under styling. Kun eksempel*/}\n\t\t\t\t\t\t\t\t\t{row[0].numberHeader && <h4>{row[0].numberHeader}</h4>}\n\t\t\t\t\t\t\t\t\t<div className={'flexbox--align-start flexbox--wrap'} key={i}>\n\t\t\t\t\t\t\t\t\t\t{row.map(_renderStaticValue)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)\n\t\t}\n\t})\n}\n\nconst _renderStaticValue = (attributt, key) => {\n\tif (!attributt.value) return false\n\treturn (\n\t\t<TitleValue\n\t\t\tkey={key}\n\t\t\ttitle={attributt.label}\n\t\t\tvalue={attributt.value}\n\t\t\tkodeverk={attributt.apiKodeverkId}\n\t\t\tsize={attributt.width ? attributt.width : 'small'}\n\t\t/>\n\t)\n}\n\nexport default function Bestillingskriterier({ bestilling, bestillingsinformasjon, header }) {\n\tif (bestilling.organisasjon || bestilling.enhetstype) {\n\t\treturn (\n\t\t\t<div className=\"bestilling-detaljer\">\n\t\t\t\t{header && <SubOverskrift label={header} />}\n\t\t\t\t<OrganisasjonKriterier\n\t\t\t\t\tdata={bestilling.organisasjon || bestilling}\n\t\t\t\t\trender={_renderBestillingsDetaljer}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst data = mapBestillingData(bestilling, bestillingsinformasjon)\n\n\tif (!data) return <p>Kunne ikke hente bestillingsdata</p>\n\n\treturn (\n\t\t<div className=\"bestilling-detaljer\">\n\t\t\t{header && <SubOverskrift label={header} />}\n\t\t\t{_renderBestillingsDetaljer(data)}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport _get from 'lodash/get'\nimport { AlertStripeInfo } from 'nav-frontend-alertstriper'\nimport { InstApi } from '~/service/Api'\nimport { ArenaApi } from '~/service/Api'\nimport { PensjonApi } from '~/service/Api'\nimport TilgjengeligeMiljoer from './TilgjengeligeMiljoer'\n\nexport const MiljoeInfo = ({ bestillingsdata, dollyEnvironments }) => {\n\tconst {\n\t\tinstdata,\n\t\tpdlforvalter,\n\t\tarenaforvalter,\n\t\tpensjonforvalter,\n\t\tsykemelding,\n\t\tudistub\n\t} = bestillingsdata\n\tif (\n\t\t!instdata &&\n\t\t!pdlforvalter &&\n\t\t!arenaforvalter &&\n\t\t!pensjonforvalter &&\n\t\t!sykemelding &&\n\t\t!_get(udistub, 'oppholdStatus')\n\t)\n\t\treturn null\n\n\treturn (\n\t\t<AlertStripeInfo>\n\t\t\tDu har valgt egenskaper som ikke blir distribuert til alle milj√∏er. For hver av f√∏lgende\n\t\t\tegenskaper m√• derfor ett eller flere av milj√∏ene under velges:\n\t\t\t<ul>\n\t\t\t\t{instdata && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\tInstitusjonsopphold:&nbsp;\n\t\t\t\t\t\t<TilgjengeligeMiljoer\n\t\t\t\t\t\t\tendepunkt={InstApi.getTilgjengeligeMiljoer}\n\t\t\t\t\t\t\tdollyEnvironments={dollyEnvironments}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\n\t\t\t\t{pdlforvalter && pdlforvalter.falskIdentitet && <li>Falsk identitet: Q2</li>}\n\t\t\t\t{pdlforvalter && pdlforvalter.utenlandskIdentifikasjonsnummer && (\n\t\t\t\t\t<li>Utenlandsk identifikasjonsnummer: Q2</li>\n\t\t\t\t)}\n\t\t\t\t{pdlforvalter && pdlforvalter.kontaktinformasjonForDoedsbo && (\n\t\t\t\t\t<li>Kontaktinformasjon for d√∏dsbo: Q2</li>\n\t\t\t\t)}\n\n\t\t\t\t{arenaforvalter && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\tArena:&nbsp;\n\t\t\t\t\t\t<TilgjengeligeMiljoer\n\t\t\t\t\t\t\tendepunkt={ArenaApi.getTilgjengeligeMiljoer}\n\t\t\t\t\t\t\tdollyEnvironments={dollyEnvironments}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\n\t\t\t\t{pensjonforvalter && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\tPOPP:&nbsp;\n\t\t\t\t\t\t<TilgjengeligeMiljoer\n\t\t\t\t\t\t\tendepunkt={PensjonApi.getTilgjengeligeMiljoer}\n\t\t\t\t\t\t\tdollyEnvironments={dollyEnvironments}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\n\t\t\t\t{sykemelding && <li>Sykemelding: B√•de Q1 og Q2 m√• velges</li>}\n\n\t\t\t\t{udistub && udistub.oppholdStatus && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\tOppholdsstatus i PDL: Q1, Q2 (Dersom du kun √∏nsker √• sende oppholdsstatus til UDI-stub\n\t\t\t\t\t\ter det ingen krav til valg av milj√∏.)\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</AlertStripeInfo>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ErrorMessage, FieldArray } from 'formik'\nimport LinkButton from '~/components/ui/button/LinkButton/LinkButton'\nimport { DollyCheckbox } from '~/components/ui/form/inputs/checbox/Checkbox'\nimport { MiljoeInfo } from './MiljoeInfo/MiljoeInfo'\n\nimport './MiljoVelger.less'\n\nexport const MiljoVelger = ({ bestillingsdata, heading }) => {\n\tconst filterEnvironments = (miljoer, erOrg) => {\n\t\tif (!erOrg) return miljoer\n\t\tconst filtrerteMiljoer = { ...miljoer }\n\t\tfiltrerteMiljoer.Q = filtrerteMiljoer.Q.filter(env => !env.id.includes('qx'))\n\t\treturn filtrerteMiljoer\n\t}\n\n\tconst environments = useSelector(state => state.environments.data)\n\n\tif (!environments) return null\n\tconst erOrganisasjon = bestillingsdata?.hasOwnProperty('organisasjon')\n\tconst filteredEnvironments = filterEnvironments(environments, erOrganisasjon)\n\n\tconst order = ['T', 'Q']\n\n\treturn (\n\t\t<div className=\"miljo-velger\">\n\t\t\t<h2>{heading}</h2>\n\t\t\t{bestillingsdata && (\n\t\t\t\t<MiljoeInfo bestillingsdata={bestillingsdata} dollyEnvironments={filteredEnvironments} />\n\t\t\t)}\n\n\t\t\t<FieldArray name=\"environments\">\n\t\t\t\t{({ push, remove, form }) => {\n\t\t\t\t\tconst values = form.values.environments\n\n\t\t\t\t\tconst isChecked = id => values.includes(id)\n\n\t\t\t\t\tconst onClick = e => {\n\t\t\t\t\t\tconst { id } = e.target\n\t\t\t\t\t\tisChecked(id) ? remove(values.indexOf(id)) : push(id)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst velgAlle = type => {\n\t\t\t\t\t\tconst c = filteredEnvironments[type].filter(f => !isChecked(f.id)).map(a => a.id)\n\t\t\t\t\t\tconst n = values.concat(c)\n\t\t\t\t\t\tform.setFieldValue('environments', n)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst fjernAlle = type => {\n\t\t\t\t\t\tform.setFieldValue(\n\t\t\t\t\t\t\t'environments',\n\t\t\t\t\t\t\tvalues.filter(id => !filteredEnvironments[type].map(a => a.id).includes(id))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbestillingsdata &&\n\t\t\t\t\t\tbestillingsdata.sykemelding &&\n\t\t\t\t\t\t!isChecked('q1') &&\n\t\t\t\t\t\t!isChecked('q2')\n\t\t\t\t\t) {\n\t\t\t\t\t\tpush('q1')\n\t\t\t\t\t\tpush('q2')\n\t\t\t\t\t}\n\n\t\t\t\t\treturn order.map(type => {\n\t\t\t\t\t\tconst category = filteredEnvironments[type]\n\t\t\t\t\t\tif (!category) return null\n\n\t\t\t\t\t\tconst allDisabled = category.some(f => f.disabled)\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<fieldset key={type} name={`Liste over ${type}-milj√∏er`}>\n\t\t\t\t\t\t\t\t<h3>{type}-milj√∏er</h3>\n\t\t\t\t\t\t\t\t<div className=\"miljo-velger_checkboxes\">\n\t\t\t\t\t\t\t\t\t{category.map(env => (\n\t\t\t\t\t\t\t\t\t\t<DollyCheckbox\n\t\t\t\t\t\t\t\t\t\t\tkey={env.id}\n\t\t\t\t\t\t\t\t\t\t\tid={env.id}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={env.disabled}\n\t\t\t\t\t\t\t\t\t\t\tlabel={env.id}\n\t\t\t\t\t\t\t\t\t\t\tchecked={values.includes(env.id)}\n\t\t\t\t\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t\t\t\t\t\tsize={'xxsmall'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!allDisabled && (\n\t\t\t\t\t\t\t\t\t<div className=\"miljo-velger_buttons\">\n\t\t\t\t\t\t\t\t\t\t<LinkButton text=\"Velg alle\" onClick={() => velgAlle(type)} />\n\t\t\t\t\t\t\t\t\t\t<LinkButton text=\"Fjern alle\" onClick={() => fjernAlle(type)} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t</FieldArray>\n\n\t\t\t<ErrorMessage name=\"environments\" className=\"error-message\" component=\"div\" />\n\t\t</div>\n\t)\n}\n","import { useSelector } from 'react-redux'\nimport DollyModal from '~/components/ui/modal/DollyModal'\nimport { Formik } from 'formik'\nimport { filterMiljoe } from '~/components/miljoVelger/MiljoeInfo/TilgjengeligeMiljoer'\nimport React, { Fragment } from 'react'\nimport { MiljoVelger } from '~/components/miljoVelger/MiljoVelger'\nimport NavButton from '~/components/ui/button/NavButton/NavButton'\nimport * as yup from 'yup'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\n\ntype GjenopprettModal = {\n\tgjenopprettHeader: any\n\tenvironments?: Array<string>\n\tsubmitFormik: any\n\tcloseModal: any\n\tbestilling?: any\n}\n\nexport const GjenopprettModal = ({\n\tgjenopprettHeader,\n\tenvironments,\n\tsubmitFormik,\n\tcloseModal,\n\tbestilling\n}: GjenopprettModal) => {\n\tconst tilgjengeligeEnvironments = useSelector((state: any) => state.environments.data)\n\n\tconst schemaValidation = yup.object().shape({\n\t\tenvironments: yup.array().required('Velg minst ett milj√∏')\n\t})\n\n\treturn (\n\t\t<DollyModal isOpen={true} closeModal={closeModal} width=\"50%\" overflow=\"auto\">\n\t\t\t<ErrorBoundary>\n\t\t\t\t{gjenopprettHeader}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\tenvironments: filterMiljoe(tilgjengeligeEnvironments, environments)\n\t\t\t\t\t}}\n\t\t\t\t\tonSubmit={submitFormik}\n\t\t\t\t\tvalidationSchema={schemaValidation}\n\t\t\t\t>\n\t\t\t\t\t{formikProps => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<MiljoVelger\n\t\t\t\t\t\t\t\t\tbestillingsdata={bestilling ? bestilling.bestilling : null}\n\t\t\t\t\t\t\t\t\theading=\"Velg milj√∏ √• gjenopprette i\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div className=\"dollymodal_buttons\">\n\t\t\t\t\t\t\t\t\t<NavButton type={'fare'} onClick={closeModal}>\n\t\t\t\t\t\t\t\t\t\tAvbryt\n\t\t\t\t\t\t\t\t\t</NavButton>\n\t\t\t\t\t\t\t\t\t<NavButton type=\"hoved\" onClick={formikProps.submitForm}>\n\t\t\t\t\t\t\t\t\t\tUtf√∏r\n\t\t\t\t\t\t\t\t\t</NavButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Formik>\n\t\t\t</ErrorBoundary>\n\t\t</DollyModal>\n\t)\n}\n","import React, { Fragment, PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { DollyApi } from '~/service/Api'\nimport Loading from '~/components/ui/loading/Loading'\nimport { Line } from 'rc-progress'\nimport NavButton from '~/components/ui/button/NavButton/NavButton'\nimport Icon from '~/components/ui/icon/Icon'\n\nimport './BestillingProgresjon.less'\n\nexport default class BestillingProgresjon extends PureComponent {\n\tstatic propTypes = {\n\t\tbestilling: PropTypes.object.isRequired\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.PULL_INTERVAL = 1000\n\t\tthis.PULL_INTERVAL_ORG = 5000\n\t\tthis.TIMEOUT_BEFORE_HIDE = 2000\n\t\tthis.TIME_BEFORE_WARNING_MESSAGE = 120\n\n\t\tthis.state = {\n\t\t\tferdig: props.bestilling.ferdig,\n\t\t\tantallLevert: props.bestilling.antallLevert,\n\t\t\tfailureIntervalCounter: 0,\n\t\t\tfailed: false,\n\t\t\tsistOppdatert: props.bestilling.sistOppdatert\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.ferdig && !this.props.bestilling.organisasjonNummer) {\n\t\t\tthis.interval = setInterval(() => this.getBestillingStatus(), this.PULL_INTERVAL)\n\t\t}\n\t\tif (!this.state.ferdig && this.props.bestilling.organisasjonNummer) {\n\t\t\tthis.interval = setInterval(\n\t\t\t\t() => this.getOrganisasjonBestillingStatus(),\n\t\t\t\tthis.PULL_INTERVAL_ORG\n\t\t\t)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.stopPolling()\n\t}\n\n\tstopPolling = () => clearInterval(this.interval)\n\n\tgetOrganisasjonBestillingStatus = async () => {\n\t\tconst bestillingId = this.props.bestilling.id\n\n\t\ttry {\n\t\t\tconst { data } = await DollyApi.getOrganisasjonBestillingStatus(bestillingId)\n\n\t\t\tif (data.ferdig) {\n\t\t\t\tthis.stopPolling()\n\t\t\t}\n\t\t\tthis.updateOrgStatus(data)\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n\n\tgetBestillingStatus = async () => {\n\t\tconst bestillingId = this.props.bestilling.id\n\n\t\ttry {\n\t\t\tconst { data } = await DollyApi.getBestillingStatus(bestillingId)\n\n\t\t\tif (data.ferdig) {\n\t\t\t\tthis.stopPolling()\n\t\t\t}\n\t\t\tthis.updateStatus(data)\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n\n\tupdateOrgStatus = data => {\n\t\t// Setter alltid status til IKKE FERDIG, s√•nn at vi kan vise\n\t\t// en kort melding som sier at prosessen er ferdig\n\t\tconst newState = {\n\t\t\tferdig: false,\n\t\t\tantallLevert: data.antallLevert,\n\t\t\tsistOppdatert: data.sistOppdatert\n\t\t}\n\t\tthis.setState(newState)\n\n\t\tif (data.ferdig) {\n\t\t\tsetTimeout(async () => {\n\t\t\t\tawait this.props.getBestillinger() // state.ferdig = true\n\t\t\t\tawait this.props.getOrganisasjoner(this.props.brukerId)\n\t\t\t}, this.TIMEOUT_BEFORE_HIDE)\n\t\t}\n\t}\n\n\tupdateStatus = data => {\n\t\t// Setter alltid status til IKKE FERDIG, s√•nn at vi kan vise\n\t\t// en kort melding som sier at prosessen er ferdig\n\t\tconst newState = {\n\t\t\tferdig: false,\n\t\t\tantallLevert: data.antallLevert,\n\t\t\tsistOppdatert: data.sistOppdatert\n\t\t}\n\t\tthis.setState(newState)\n\n\t\tif (data.ferdig) {\n\t\t\tsetTimeout(async () => {\n\t\t\t\tawait this.props.getBestillinger() // state.ferdig = true\n\t\t\t\tawait this.props.getGruppe()\n\t\t\t}, this.TIMEOUT_BEFORE_HIDE)\n\t\t} else {\n\t\t\tthis.harBestillingFeilet(data.sistOppdatert)\n\t\t}\n\t}\n\n\tharBestillingFeilet = sistOppdatert => {\n\t\tconst liveTimeStamp = new Date(sistOppdatert).getTime()\n\t\tconst oldTimeStamp = new Date(this.state.sistOppdatert).getTime()\n\n\t\tif (liveTimeStamp == oldTimeStamp) {\n\t\t\tthis.setState({ failureIntervalCounter: this.state.failureIntervalCounter + 1 })\n\t\t\t// Etter et bestemt intervall uten update av timestamp, setter bestilling til failed\n\t\t\tif (this.state.failureIntervalCounter == this.TIME_BEFORE_WARNING_MESSAGE) {\n\t\t\t\tthis.setState({ failed: true })\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState({ sistOppdatert: sistOppdatert, failureIntervalCounter: 0, failed: false })\n\t\t}\n\t}\n\n\tcalculateStatus = () => {\n\t\tconst total = this.props.bestilling.organisasjonNummer ? 1 : this.props.bestilling.antallIdenter\n\t\tconst sykemelding =\n\t\t\tthis.props.bestilling.bestilling.sykemelding != null &&\n\t\t\tthis.props.bestilling.bestilling.sykemelding.syntSykemelding != null\n\t\tconst organisasjon = this.props.bestilling.hasOwnProperty('organisasjonNummer')\n\t\tconst { antallLevert } = this.state\n\n\t\t// Percent\n\t\tlet percent = (100 / total) * antallLevert\n\t\tlet text = `Opprettet ${antallLevert} av ${total}`\n\n\t\t// To indicate progress hvis ingenting har skjedd enda\n\t\tif (percent === 0) percent += 10\n\n\t\tif (antallLevert === total) text = `Ferdigstiller bestilling`\n\n\t\tconst aktivBestilling = sykemelding\n\t\t\t? 'AKTIV BESTILLING (Syntetisert sykemelding behandler mye data og kan derfor ta litt tid)'\n\t\t\t: organisasjon\n\t\t\t? 'AKTIV BESTILLING (Bestillingen tar opptil flere minutter per valgte milj√∏)'\n\t\t\t: 'AKTIV BESTILLING'\n\t\tconst title = percent === 100 ? 'FERDIG' : aktivBestilling\n\n\t\treturn {\n\t\t\tpercent,\n\t\t\ttitle,\n\t\t\ttext\n\t\t}\n\t}\n\n\t_onCancelBtn = () => {\n\t\tthis.setState({ ferdig: true }, () => {\n\t\t\tthis.props.cancelBestilling(this.props.bestilling.id)\n\t\t\tthis.stopPolling()\n\t\t})\n\t}\n\n\trender() {\n\t\tconst status = this.calculateStatus()\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"flexbox--space\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\t<Loading onlySpinner /> {status.title}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<span>{status.text}</span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Line percent={status.percent} strokeWidth={0.5} trailWidth={0.5} strokeColor=\"#254b6d\" />\n\t\t\t\t</div>\n\t\t\t\t{this.state.failed && (\n\t\t\t\t\t<div className=\"cancel-container\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Icon kind={'report-problem-circle'} />\n\t\t\t\t\t\t\t<h5 className=\"feil-status-text\">\n\t\t\t\t\t\t\t\tDette tar lengre tid enn forventet. Hvis bestillingen er kompleks kan du gi Dolly\n\t\t\t\t\t\t\t\tlitt mer tid f√∏r du eventuelt avbryter.\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<NavButton type=\"fare\" onClick={this._onCancelBtn}>\n\t\t\t\t\t\t\tAVBRYT BESTILLING\n\t\t\t\t\t\t</NavButton>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n","import React from 'react'\nimport Icon from '~/components/ui/icon/Icon'\n\nimport './FagsystemStatus.less'\n\nexport default function FagsystemStatus({ bestilling }) {\n\tconst iconTypes = {\n\t\tsuksess: 'feedback-check-circle',\n\t\tavvik: 'report-problem-circle',\n\t\tfeil: 'report-problem-triangle'\n\t}\n\n\tconst iconType = statuser => {\n\t\t// Alle er OK\n\t\tif (statuser.every(status => status.melding === 'OK')) return iconTypes.suksess\n\t\t// Denne statusmeldingen gir kun avvik\n\t\telse if (\n\t\t\tstatuser.some(\n\t\t\t\tstatus =>\n\t\t\t\t\tstatus?.melding.includes('TIDSAVBRUDD') ||\n\t\t\t\t\tstatus?.melding.includes('Tidsavbrudd') ||\n\t\t\t\t\tstatus?.melding.includes('tidsavbrudd')\n\t\t\t)\n\t\t)\n\t\t\treturn iconTypes.avvik\n\t\t// Avvik eller Error\n\t\treturn statuser.some(status => status?.melding === 'OK') ? iconTypes.avvik : iconTypes.feil\n\t}\n\n\treturn (\n\t\t<div className=\"fagsystem-status\">\n\t\t\t{bestilling.status.map((fagsystem, idx) => (\n\t\t\t\t<div className=\"fagsystem-status_kind\" key={idx}>\n\t\t\t\t\t<Icon kind={iconType(fagsystem.statuser)} />\n\t\t\t\t\t<p>{fagsystem.navn}</p>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport Button from '~/components/ui/button/Button'\nimport { Feedback } from '~/components/feedback'\nimport ApiFeilmelding from '~/components/ui/apiFeilmelding/ApiFeilmelding'\nimport FagsystemStatus from './FagsystemStatus/FagsystemStatus'\nimport antallIdenterOpprettet from '~/components/bestilling/utils/antallIdenterOpprettet'\nimport { BestillingSammendragModal } from '~/components/bestilling/sammendrag/SammendragModal'\n\nimport './BestillingResultat.less'\n\nexport default function BestillingResultat(props) {\n\tconst { bestilling, onCloseButton, brukerBilde } = props\n\n\tconst antall = antallIdenterOpprettet(bestilling)\n\n\treturn (\n\t\t<div className=\"bestilling-resultat\">\n\t\t\t<div className=\"status-header\">\n\t\t\t\t<p>Bestilling #{bestilling.id}</p>\n\t\t\t\t<h3>Bestillingsstatus</h3>\n\t\t\t\t<div className=\"status-header_button-wrap\">\n\t\t\t\t\t<Button kind=\"remove-circle\" onClick={() => onCloseButton(bestilling.id)} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr />\n\t\t\t<FagsystemStatus bestilling={bestilling} />\n\t\t\t{antall.harMangler && <span>{antall.tekst}</span>}\n\t\t\t{bestilling.feil && <ApiFeilmelding feilmelding={bestilling.feil} container />}\n\t\t\t<Feedback\n\t\t\t\tlabel=\"Hvordan var din opplevelse med bruk av Dolly?\"\n\t\t\t\tfeedbackFor=\"Bruk av Dolly etter bestilling\"\n\t\t\t\tbrukerBilde={brukerBilde}\n\t\t\t/>\n\t\t\t<div className=\"flexbox--all-center\">\n\t\t\t\t<BestillingSammendragModal bestilling={bestilling} />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import { connect } from 'react-redux'\nimport { actions } from '~/ducks/gruppe'\nimport { fetchOrganisasjoner } from '~/ducks/organisasjon'\nimport { createLoadingSelector } from '~/ducks/loading'\nimport {\n\tgetBestillinger,\n\tnyeBestillingerSelector,\n\tgetOrganisasjonBestilling,\n\tremoveNyBestillingStatus,\n\tcancelBestilling\n} from '~/ducks/bestillingStatus'\nimport StatusListe from './StatusListe'\n\nconst loadingCancelSelector = createLoadingSelector(cancelBestilling)\nconst loadingBestillingerSelector = createLoadingSelector(getBestillinger)\nconst loadingOrgBestillingSelector = createLoadingSelector(getOrganisasjonBestilling)\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisFetchingBestillinger: loadingBestillingerSelector(state),\n\t\tisFetchingOrgBestillinger: loadingOrgBestillingSelector(state),\n\t\tnyeBestillinger: nyeBestillingerSelector(state),\n\t\tisCanceling: loadingCancelSelector(state),\n\t\tbrukerBilde: state.bruker.brukerBilde,\n\t\tbrukerId: state.bruker.brukerData.brukerId\n\t}\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\treturn {\n\t\tgetGruppe: (pageNo, pageSize) =>\n\t\t\townProps.gruppeId && dispatch(actions.getById(ownProps.gruppeId, pageNo, pageSize)),\n\t\tgetOrganisasjoner: fetchOrganisasjoner(dispatch),\n\t\tgetBestillinger: () =>\n\t\t\townProps.brukerId\n\t\t\t\t? dispatch(getOrganisasjonBestilling(ownProps.brukerId))\n\t\t\t\t: dispatch(getBestillinger(ownProps.gruppeId)),\n\t\tremoveNyBestillingStatus: bestillingId => dispatch(removeNyBestillingStatus(bestillingId)),\n\t\tcancelBestilling: bestillingId => dispatch(cancelBestilling(bestillingId))\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusListe)\n","import React from 'react'\nimport ContentContainer from '~/components/ui/contentContainer/ContentContainer'\nimport Loading from '~/components/ui/loading/Loading'\nimport BestillingProgresjon from './BestillingProgresjon/BestillingProgresjon'\nimport BestillingResultat from './BestillingResultat/BestillingResultat'\n\nexport default function StatusListe(props) {\n\tconst {\n\t\tisFetchingBestillinger,\n\t\tisFetchingOrgBestillinger,\n\t\tnyeBestillinger,\n\t\tisCanceling,\n\t\tbrukerBilde,\n\t\tbrukerId,\n\t\tgetGruppe,\n\t\tgetOrganisasjoner,\n\t\tgetBestillinger,\n\t\tremoveNyBestillingStatus,\n\t\tcancelBestilling\n\t} = props\n\n\tconst _onCloseBestillingResultat = bestillingId => {\n\t\tremoveNyBestillingStatus(bestillingId)\n\t\tgetBestillinger()\n\t}\n\n\tif (isFetchingBestillinger || isFetchingOrgBestillinger) return false\n\n\tif (isCanceling) {\n\t\treturn (\n\t\t\t<ContentContainer className=\"loading-content-container\">\n\t\t\t\t<Loading label=\"AVBRYTER BESTILLING\" />\n\t\t\t</ContentContainer>\n\t\t)\n\t}\n\n\treturn nyeBestillinger.map(bestilling => {\n\t\treturn (\n\t\t\t<div className=\"bestilling-status\" key={bestilling.id}>\n\t\t\t\t{bestilling.ferdig ? (\n\t\t\t\t\t<BestillingResultat\n\t\t\t\t\t\tbestilling={bestilling}\n\t\t\t\t\t\tonCloseButton={_onCloseBestillingResultat}\n\t\t\t\t\t\tbrukerBilde={brukerBilde}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<BestillingProgresjon\n\t\t\t\t\t\tbestilling={bestilling}\n\t\t\t\t\t\tgetGruppe={getGruppe}\n\t\t\t\t\t\tgetOrganisasjoner={getOrganisasjoner}\n\t\t\t\t\t\tgetBestillinger={getBestillinger}\n\t\t\t\t\t\tcancelBestilling={cancelBestilling}\n\t\t\t\t\t\tbrukerId={brukerId}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t})\n}\n","import { connect } from 'react-redux'\nimport GjenopprettBestillingComp from './GjenopprettBestilling'\nimport {\n\tgetBestillinger,\n\tgjenopprettBestilling,\n\tgetOrganisasjonBestilling,\n\tgjenopprettOrganisasjonBestilling\n} from '~/ducks/bestillingStatus'\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\tconst { gruppeId, id } = ownProps.bestilling\n\treturn {\n\t\tgjenopprettBestilling: envs => dispatch(gjenopprettBestilling(id, envs)),\n\t\tgjenopprettOrganisasjonBestilling: envs =>\n\t\t\tdispatch(gjenopprettOrganisasjonBestilling(id, envs)),\n\t\tgetBestillinger: () =>\n\t\t\townProps.brukerId\n\t\t\t\t? dispatch(getOrganisasjonBestilling(ownProps.brukerId))\n\t\t\t\t: dispatch(getBestillinger(gruppeId))\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(GjenopprettBestillingComp)\n","import React from 'react'\nimport Formatters from '~/utils/DataFormatter'\nimport { TitleValue } from '~/components/ui/titleValue/TitleValue'\nimport { GjenopprettModal } from './GjenopprettModal'\n\nexport default function GjenopprettBestilling(props) {\n\tconst { bestilling, closeModal } = props\n\tconst { environments } = bestilling\n\tconst erOrganisasjon = bestilling.hasOwnProperty('organisasjonNummer')\n\n\tconst submitFormik = async values => {\n\t\tconst envsQuery = Formatters.arrayToString(values.environments)\n\t\t\t.replace(/ /g, '')\n\t\t\t.toLowerCase()\n\t\terOrganisasjon\n\t\t\t? await props.gjenopprettOrganisasjonBestilling(envsQuery)\n\t\t\t: await props.gjenopprettBestilling(envsQuery)\n\t\tawait props.getBestillinger()\n\t\tcloseModal()\n\t}\n\n\tconst gjenopprettHeader = (\n\t\t<div style={{ paddingLeft: 20, paddingRight: 20 }}>\n\t\t\t<h1>Gjenopprett bestilling #{bestilling.id}</h1>\n\t\t\t<br />\n\t\t\t<TitleValue title=\"Bestilt milj√∏\" value={Formatters.arrayToString(environments)} />\n\t\t\t<hr />\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<GjenopprettModal\n\t\t\tgjenopprettHeader={gjenopprettHeader}\n\t\t\tenvironments={environments}\n\t\t\tsubmitFormik={submitFormik}\n\t\t\tcloseModal={closeModal}\n\t\t\tbestilling={bestilling}\n\t\t/>\n\t)\n}\n","import { connect } from 'react-redux'\nimport SendOpenAm from './SendOpenAm'\nimport { getBestillinger } from '~/ducks/bestillingStatus'\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tgetBestillinger: () => dispatch(getBestillinger(ownProps.bestilling.gruppeId))\n})\n\nexport default connect(null, mapDispatchToProps)(SendOpenAm)\n","import React from 'react'\nimport { useAsyncFn } from 'react-use'\nimport _get from 'lodash/get'\nimport { DollyApi } from '~/service/Api'\nimport DollyModal from '~/components/ui/modal/DollyModal'\nimport Loading from '~/components/ui/loading/Loading'\nimport JiraLenker from '~/components/bestilling/jiraLenker/JiraLenker'\nimport NavButton from '~/components/ui/button/NavButton/NavButton'\n\nexport default function SendOpenAm({ closeModal, bestilling, getBestillinger }) {\n\tconst [requestState, postOpenAm] = useAsyncFn(async () => {\n\t\treturn DollyApi.postOpenAmBestilling(bestilling.id)\n\t})\n\n\tconst openAmLinkArray = _get(requestState, 'value.data', []).map(response => response.message)\n\n\tconst close = () => (requestState.value ? getBestillinger() : closeModal())\n\n\treturn (\n\t\t<DollyModal isOpen={true} closeModal={close} width=\"25%\" overflow=\"auto\">\n\t\t\t<h1>Send til OpenAm</h1>\n\n\t\t\t{!requestState.value && (\n\t\t\t\t<p>\n\t\t\t\t\tDolly vil sende alle personer i bestillingen til OpenAm. Er du sikker p√• at du vil utf√∏re\n\t\t\t\t\tdette?\n\t\t\t\t</p>\n\t\t\t)}\n\n\t\t\t{requestState.loading && <Loading label=\"sender til openAm\" />}\n\n\t\t\t{requestState.value && (\n\t\t\t\t<div className=\"bestilling-detaljer\">\n\t\t\t\t\t<JiraLenker openAm={openAmLinkArray} />\n\t\t\t\t\t<p>Sakene vil bli oppdatert i l√∏pet av 2-3 minutter, og finnes da i kommentarfeltet.</p>\n\n\t\t\t\t\t<div className=\"dollymodal_buttons\">\n\t\t\t\t\t\t<NavButton type={'fare'} autoFocus onClick={close}>\n\t\t\t\t\t\t\tLukk\n\t\t\t\t\t\t</NavButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!requestState.value && (\n\t\t\t\t<div className=\"dollymodal_buttons\">\n\t\t\t\t\t<NavButton type={'fare'} autoFocus onClick={closeModal}>\n\t\t\t\t\t\tAvbryt\n\t\t\t\t\t</NavButton>\n\t\t\t\t\t<NavButton type=\"hoved\" onClick={postOpenAm}>\n\t\t\t\t\t\tSend til OpenAm\n\t\t\t\t\t</NavButton>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</DollyModal>\n\t)\n}\n","import DollyModal from '~/components/ui/modal/DollyModal'\nimport React, { useState } from 'react'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\nimport { TextInput } from '~/components/ui/form/inputs/textInput/TextInput'\nimport { api } from '~/pages/minSide/maler/api'\nimport ModalActionKnapper from '~/components/ui/modal/ModalActionKnapper'\nimport { Label } from '~/components/ui/form/inputs/label/Label'\n\nexport const MalModal = ({ id, closeModal }) => {\n\tconst lagreEndring = () => {\n\t\tapi.endreMalNavn(id, nyttMalnavn).then(closeModal())\n\t}\n\n\tconst [nyttMalnavn, setMalnavn] = useState('')\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<DollyModal isOpen closeModal={closeModal} width=\"40%\" overflow=\"auto\">\n\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t<h1>Opprett ny mal</h1>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<Label name={'MalNavn'} label={'Navn p√• mal'}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"malnavn\"\n\t\t\t\t\t\t\tonChange={e => setMalnavn(e.target.value)}\n\t\t\t\t\t\t\tclassName=\"input--fullbredde\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Label>\n\t\t\t\t\t<ModalActionKnapper\n\t\t\t\t\t\tsubmitknapp=\"Lagre Mal\"\n\t\t\t\t\t\tdisabled={nyttMalnavn === ''}\n\t\t\t\t\t\tonSubmit={lagreEndring}\n\t\t\t\t\t\tonAvbryt={closeModal}\n\t\t\t\t\t\tcenter\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</DollyModal>\n\t\t</ErrorBoundary>\n\t)\n}\n","import React from 'react'\nimport useBoolean from '~/utils/hooks/useBoolean'\nimport Button from '~/components/ui/button/Button'\nimport BestillingSammendrag from '~/components/bestilling/sammendrag/Sammendrag'\nimport GjenopprettConnector from '~/components/bestilling/gjenopprett/GjenopprettBestillingConnector'\nimport SendOpenAmConnector from '~/components/bestilling/sendOpenAm/SendOpenAmConnector'\n\nimport './Detaljer.less'\nimport { MalModal } from '~/pages/minSide/maler/MalModal'\n\nexport default function BestillingDetaljer({ bestilling, iLaastGruppe, brukerId }) {\n\tconst [isGjenopprettModalOpen, openGjenopprettModal, closeGjenoprettModal] = useBoolean(false)\n\tconst [isOpenAmModalOpen, openOpenAmModal, closeOpenAmModal] = useBoolean(false)\n\tconst [isOpenMalModalOpen, openOpenMalModal, closeOpenMalModal] = useBoolean(false)\n\n\tconst alleredeSendtTilOpenAm = Boolean(bestilling.openamSent)\n\tconst alleredeMal = Boolean(bestilling.malBestillingNavn)\n\tconst harIdenterOpprettet = bestilling.antallIdenterOpprettet > 0\n\tconst erOrganisasjon = bestilling.hasOwnProperty('organisasjonNummer')\n\n\treturn (\n\t\t<div className=\"bestilling-detaljer\">\n\t\t\t<BestillingSammendrag bestilling={bestilling} />\n\n\t\t\t{harIdenterOpprettet && (\n\t\t\t\t<div className=\"flexbox--align-center--justify-end info-block\">\n\t\t\t\t\t{!alleredeSendtTilOpenAm && (\n\t\t\t\t\t\t<Button onClick={openOpenAmModal} kind=\"chevron-right\">\n\t\t\t\t\t\t\tSEND TIL OPENAM\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{!iLaastGruppe && (\n\t\t\t\t\t\t<Button onClick={openGjenopprettModal} kind=\"synchronize\">\n\t\t\t\t\t\t\tGJENOPPRETT\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{!alleredeMal && (\n\t\t\t\t\t\t<Button onClick={openOpenMalModal} kind={'maler'}>\n\t\t\t\t\t\t\tOPPRETT NY MAL\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{erOrganisasjon && (\n\t\t\t\t<div className=\"flexbox--align-center--justify-end info-block\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={openGjenopprettModal}\n\t\t\t\t\t\tkind=\"synchronize\"\n\t\t\t\t\t\tdisabled={!bestilling.ferdig}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t!bestilling.ferdig ? 'Bestillingen kan ikke gjenopprettes f√∏r den er ferdig' : null\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tGJENOPPRETT\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{isOpenAmModalOpen && (\n\t\t\t\t<SendOpenAmConnector bestilling={bestilling} closeModal={closeOpenAmModal} />\n\t\t\t)}\n\n\t\t\t{isGjenopprettModalOpen && (\n\t\t\t\t<GjenopprettConnector\n\t\t\t\t\tbestilling={bestilling}\n\t\t\t\t\tbrukerId={brukerId && brukerId}\n\t\t\t\t\tcloseModal={closeGjenoprettModal}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isOpenMalModalOpen && <MalModal id={bestilling.id} closeModal={closeOpenMalModal} />}\n\t\t</div>\n\t)\n}\n","import React from 'react'\n\nimport './TidligereBestillinger.less'\n\nexport const TidligereBestillinger = ({ ids }) => {\n\tif (ids.length <= 1) return false\n\treturn (\n\t\t<div className=\"tidligere-bestilling-panel\">\n\t\t\t<h4>Tidligere bestilling-ID</h4>\n\t\t\t<div>{ids.slice(1).join(', ')}</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { setSearchText } from '~/ducks/search'\nimport { TextInput } from '~/components/ui/form/inputs/textInput/TextInput'\n\nimport './SearchField.less'\n\nexport const SearchField = ({ placeholder = 'Hva leter du etter?', setText }) => {\n\tconst dispatch = useDispatch()\n\n\tconst handleChange = event =>\n\t\tsetText\n\t\t\t? setText(event.target.value.trim())\n\t\t\t: dispatch(setSearchText(event.target.value.trim()))\n\n\treturn (\n\t\t<div className=\"searchfield-container skjemaelement\">\n\t\t\t<TextInput\n\t\t\t\tid=\"searchfield-inputfield\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tonChange={handleChange}\n\t\t\t\taria-label=\"Search\"\n\t\t\t\ticon=\"search\"\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport _orderBy from 'lodash/orderBy'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\nimport DollyTable from '~/components/ui/dollyTable/DollyTable'\nimport { OrganisasjonItem } from '~/components/ui/icon/IconItem'\nimport Icon from '~/components/ui/icon/Icon'\nimport BestillingDetaljer from '~/components/bestilling/detaljer/Detaljer'\nimport { OrgStatus } from '~/components/fagsystem/organisasjoner/types'\nimport Spinner from '~/components/ui/loading/Spinner'\nimport Formatters from '~/utils/DataFormatter'\n\ntype OrganisasjonBestilling = {\n\tbrukerId: string\n\tbestillinger: Array<OrgStatus>\n}\n\nconst ikonTypeMap = {\n\tFerdig: 'feedback-check-circle',\n\tAvvik: 'report-problem-circle',\n\tFeilet: 'report-problem-triangle',\n\tStoppet: 'report-problem-triangle'\n}\n\nexport default function OrganisasjonBestilling({ brukerId, bestillinger }: OrganisasjonBestilling) {\n\tif (!bestillinger) {\n\t\treturn null\n\t}\n\n\tconst sortedOrgliste = _orderBy(bestillinger, ['id'], ['desc'])\n\n\tconst columns = [\n\t\t{\n\t\t\ttext: 'ID',\n\t\t\twidth: '10',\n\t\t\tdataField: 'id',\n\t\t\tunique: true\n\t\t},\n\t\t{\n\t\t\ttext: 'Antall',\n\t\t\twidth: '10',\n\t\t\tdataField: 'antallLevert'\n\t\t},\n\t\t{\n\t\t\ttext: 'Sist oppdatert',\n\t\t\twidth: '20',\n\t\t\tdataField: 'sistOppdatert',\n\t\t\tformatter(cell: string): string {\n\t\t\t\treturn Formatters.formatDate(cell)\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttext: 'Milj√∏',\n\t\t\twidth: '15',\n\t\t\tdataField: 'environments',\n\t\t\tformatter(cell: string) {\n\t\t\t\treturn cell.toUpperCase().replaceAll(',', ', ')\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttext: 'Orgnr.',\n\t\t\twidth: '15',\n\t\t\tdataField: 'organisasjonNummer',\n\t\t\tunique: true\n\t\t},\n\t\t{\n\t\t\ttext: 'Status',\n\t\t\twidth: '10',\n\t\t\tdataField: 'listedata[4]',\n\t\t\tformatter: (cell: string) => {\n\t\t\t\treturn cell === 'P√•g√•r' || cell === 'DEPLOYER' ? (\n\t\t\t\t\t<Spinner size={24} />\n\t\t\t\t) : (\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t<Icon kind={ikonTypeMap[cell]} title={cell} />\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t]\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t{/* @ts-ignore */}\n\t\t\t<DollyTable\n\t\t\t\tdata={sortedOrgliste}\n\t\t\t\tcolumns={columns}\n\t\t\t\tpagination\n\t\t\t\ticonItem={<OrganisasjonItem />}\n\t\t\t\tonExpand={(bestilling: OrgStatus) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<BestillingDetaljer bestilling={bestilling} iLaastGruppe={null} brukerId={brukerId} />\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ErrorBoundary>\n\t)\n}\n","import React from 'react'\nimport { Adresse } from '~/components/fagsystem/organisasjoner/types'\nimport KodeverkConnector from '~/components/kodeverk/KodeverkConnector'\nimport { TitleValue } from '~/components/ui/titleValue/TitleValue'\n\ntype Props = {\n\tadresse: Adresse\n}\n\nexport default ({ adresse }: Props) => (\n\t<>\n\t\t<TitleValue\n\t\t\ttitle={adresse.adressetype === 'FADR' ? 'Forretningsadresse' : 'Postadresse'}\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<div>{adresse.adresselinjer[0]}</div>\n\t\t\t<div>{adresse.adresselinjer[1]}</div>\n\t\t\t<div>{adresse.adresselinjer[2]}</div>\n\t\t\t<div>\n\t\t\t\t<KodeverkConnector navn=\"Postnummer\" value={adresse.postnr}>\n\t\t\t\t\t{(v: any, verdi: any) => <span>{verdi ? verdi.label : adresse.postnummer}</span>}\n\t\t\t\t</KodeverkConnector>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<KodeverkConnector navn=\"LandkoderISO2\" value={adresse.landkode}>\n\t\t\t\t\t{(v: any, verdi: any) => <span>{verdi ? verdi.label : adresse.landkode}</span>}\n\t\t\t\t</KodeverkConnector>\n\t\t\t</div>\n\t\t</TitleValue>\n\t</>\n)\n","import React from 'react'\nimport { EnhetData } from '../types'\nimport { TitleValue } from '~/components/ui/titleValue/TitleValue'\n\ntype Detaljer = {\n\tdata: EnhetData\n}\n\nexport default ({ data }: Detaljer) => (\n\t<>\n\t\t<h4>Kontaktdata</h4>\n\t\t<div className=\"person-visning_content\">\n\t\t\t<TitleValue title=\"Telefon\" value={data.telefon} />\n\t\t\t<TitleValue title=\"E-postadresse\" value={data.epost} />\n\t\t\t<TitleValue title=\"Internettadresse\" value={data.nettside} />\n\t\t</div>\n\t</>\n)\n","import React from 'react'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\nimport { TitleValue } from '~/components/ui/titleValue/TitleValue'\nimport { OrganisasjonKodeverk } from '~/config/kodeverk'\nimport '~/pages/gruppe/PersonVisning/PersonVisning.less'\nimport { EnhetData } from '../types'\nimport Formatters from '~/utils/DataFormatter'\nimport AdresseDetaljer from './AdresseDetaljer'\nimport KontaktdataDetaljer from './KontaktdataDetaljer'\n\ntype Detaljer = {\n\tdata: Array<EnhetData>\n}\n\nexport const Detaljer = ({ data }: Detaljer) => {\n\treturn (\n\t\t<section className=\"person-visning\">\n\t\t\t<SubOverskrift label=\"Detaljer\" iconKind=\"personinformasjon\" />\n\t\t\t<div className=\"person-visning_content\">\n\t\t\t\t<TitleValue title=\"Orgnr.\" value={data[0].organisasjonsnummer} />\n\t\t\t\t<TitleValue title=\"Navn\" value={data[0].organisasjonsnavn} />\n\t\t\t\t<TitleValue title=\"Enhetstype\" value={data[0].enhetstype} />\n\t\t\t\t<TitleValue\n\t\t\t\t\ttitle=\"N√¶ringskode\"\n\t\t\t\t\tkodeverk={OrganisasjonKodeverk.Naeringskoder}\n\t\t\t\t\tvalue={data[0].naeringskode}\n\t\t\t\t/>\n\t\t\t\t<TitleValue\n\t\t\t\t\ttitle=\"Sektorkode\"\n\t\t\t\t\tkodeverk={OrganisasjonKodeverk.Sektorkoder}\n\t\t\t\t\tvalue={data[0].sektorkode}\n\t\t\t\t/>\n\t\t\t\t<TitleValue title=\"Form√•l\" value={data[0].formaal} />\n\t\t\t\t<TitleValue\n\t\t\t\t\ttitle=\"Stiftelsesdato\"\n\t\t\t\t\tvalue={Formatters.formatStringDates(data[0].stiftelsesdato)}\n\t\t\t\t/>\n\t\t\t\t<TitleValue title=\"M√•lform\" value={Formatters.showLabel('maalform', data[0].maalform)} />\n\t\t\t</div>\n\n\t\t\t{(data[0].telefon || data[0].epost || data[0].nettside) && (\n\t\t\t\t<KontaktdataDetaljer data={data[0]} />\n\t\t\t)}\n\n\t\t\t{data[0].adresser && (\n\t\t\t\t<>\n\t\t\t\t\t<h4>Adresser</h4>\n\t\t\t\t\t<div className=\"person-visning_content\">\n\t\t\t\t\t\t{data[0].adresser.map((adresse, idx) => (\n\t\t\t\t\t\t\t<AdresseDetaljer adresse={adresse} key={idx} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</section>\n\t)\n}\n","import React, { useState } from 'react'\nimport '~/pages/gruppe/PersonVisning/PersonMiljoeinfo/DataVisning.less'\n// @ts-ignore\nimport Tooltip from 'rc-tooltip'\nimport 'rc-tooltip/assets/bootstrap_white.css'\nimport { Detaljer } from '~/components/fagsystem/organisasjoner/visning/Detaljer'\nimport { Enhetstre, OrgTree } from '~/components/enhetstre'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\n\n// @ts-ignore\nexport const OrganisasjonDataVisning = ({ data }) => {\n\tif (!data) return null\n\n\tconst organisasjonListe = Object.entries(data).sort()\n\n\t// @ts-ignore\n\tconst getOrganisasjonInfo = organisasjon => {\n\t\tconst [selectedId, setSelectedId] = useState('0')\n\t\tconst orgTree = new OrgTree(organisasjon[1], '0')\n\t\treturn (\n\t\t\t<div className=\"boks\">\n\t\t\t\t<SubOverskrift label=\"Organisasjonsoversikt\" iconKind=\"organisasjon\" />\n\t\t\t\t<Enhetstre enheter={[orgTree]} selectedEnhet={selectedId} onNodeClick={setSelectedId} />\n\t\t\t\t<Detaljer data={[orgTree.find(selectedId)]} />\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className=\"flexbox--flex-wrap\">\n\t\t\t{organisasjonListe.map((organisasjoner, idx) => {\n\t\t\t\tconst miljoe = organisasjoner[0]\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\toverlay={getOrganisasjonInfo(organisasjoner)}\n\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\talign={{\n\t\t\t\t\t\t\toffset: ['0', '-10']\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmouseEnterDelay={0.1}\n\t\t\t\t\t\tmouseLeaveDelay={0.1}\n\t\t\t\t\t\tarrowContent={<div className=\"rc-tooltip-arrow-inner\"></div>}\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\toverlayStyle={{ opacity: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"miljoe-knapp\">{miljoe.toUpperCase()}</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport { useAsync } from 'react-use'\nimport { OrgforvalterApi } from '~/service/Api'\nimport Loading from '~/components/ui/loading/Loading'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\nimport { OrganisasjonDataVisning } from '~/components/fagsystem/organisasjoner/visning/miljoevisning/OrganisasjonDataVisning'\n\nexport const OrganisasjonMiljoeinfo = (props: { orgnummer: string }) => {\n\tif (!props) return null\n\n\tconst state = useAsync(async () => {\n\t\treturn OrgforvalterApi.getOrganisasjonerMiljoeInfo(props.orgnummer)\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t<SubOverskrift label=\"Opprettet i milj√∏er\" iconKind=\"visOrgData\" />\n\t\t\t{state.loading && <Loading label=\"Laster milj√∏er\" />}\n\t\t\t{/* @ts-ignore */}\n\t\t\t{state.value && <OrganisasjonDataVisning data={state.value.data} />}\n\t\t\t{state.value && (\n\t\t\t\t<p>\n\t\t\t\t\t<i>\n\t\t\t\t\t\tHold pekeren over et milj√∏ for √• se dataene som finnes p√• denne organisasjonen i EREG\n\t\t\t\t\t\tfor det aktuelle milj√∏et.\n\t\t\t\t\t</i>\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n","import React, { useState } from 'react'\nimport { Enhetstre, OrgTree } from '~/components/enhetstre'\nimport { Detaljer } from './Detaljer'\nimport { TidligereBestillinger } from '~/pages/gruppe/PersonVisning/TidligereBestillinger/TidligereBestillinger'\nimport SubOverskrift from '~/components/ui/subOverskrift/SubOverskrift'\nimport { EnhetBestilling, EnhetData } from '../types'\nimport { BestillingSammendragModal } from '~/components/bestilling/sammendrag/SammendragModal'\nimport { DollyApi } from '~/service/Api'\nimport { OrganisasjonMiljoeinfo } from '~/components/fagsystem/organisasjoner/visning/miljoevisning/OrganisasjonMiljoeinfo'\n\ntype OrganisasjonVisning = {\n\tdata: EnhetData\n\tbestillinger: Array<EnhetBestilling>\n}\n\nexport const OrganisasjonVisning = ({ data, bestillinger }: OrganisasjonVisning) => {\n\tif (!data) return null\n\n\tconst [selectedId, setSelectedId] = useState('0')\n\n\tconst orgTree = new OrgTree(data.orgInfo, '0')\n\n\tconst slettOrganisasjon = () => {\n\t\tDollyApi.deleteOrganisasjonOrgnummer(data.organisasjonsnummer).then(() => {\n\t\t\twindow.location.reload()\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<SubOverskrift label=\"Organisasjonsoversikt\" iconKind=\"organisasjon\" />\n\t\t\t<Enhetstre enheter={[orgTree]} selectedEnhet={selectedId} onNodeClick={setSelectedId} />\n\t\t\t<Detaljer data={[orgTree.find(selectedId)]} />\n\t\t\t{/* @ts-ignore */}\n\t\t\t<TidligereBestillinger ids={data.bestillingId} />\n\t\t\t<OrganisasjonMiljoeinfo orgnummer={data.organisasjonsnummer} />\n\t\t\t<div className=\"flexbox--align-center--justify-end info-block\">\n\t\t\t\t<BestillingSammendragModal\n\t\t\t\t\tbestilling={bestillinger.filter(bestilling => bestilling.id === data.bestillingId[0])[0]}\n\t\t\t\t/>\n\t\t\t\t{/*TODO: Slett fungerer greit, men de finnes fortsatt deployet i milj√∏ene etter slett. Venter*/}\n\t\t\t\t{/*til sletting av disse er implementert f√∏r sletting i Dolly tas i bruk*/}\n\t\t\t\t{/*<SlettButton action={slettOrganisasjon} loading={undefined}>*/}\n\t\t\t\t{/*\tEr du sikker p√• at du vil slette denne organisasjonen?*/}\n\t\t\t\t{/*</SlettButton>*/}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport _orderBy from 'lodash/orderBy'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\n// @ts-ignore\nimport Tooltip from 'rc-tooltip'\nimport 'rc-tooltip/assets/bootstrap.css'\n//@ts-ignore\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport DollyTable from '~/components/ui/dollyTable/DollyTable'\nimport { OrganisasjonItem } from '~/components/ui/icon/IconItem'\nimport Icon from '~/components/ui/icon/Icon'\nimport { OrganisasjonVisning } from '~/components/fagsystem/organisasjoner/visning/Visning'\nimport { OrgStatus, EnhetData, EnhetBestilling } from '~/components/fagsystem/organisasjoner/types'\n\ntype OrganisasjonListe = {\n\tbestillinger: Array<EnhetBestilling>\n\torganisasjoner: OrgStatus\n}\n\nconst ikonTypeMap = {\n\tFerdig: 'feedback-check-circle',\n\tAvvik: 'report-problem-circle',\n\tFeilet: 'report-problem-triangle',\n\tStoppet: 'report-problem-triangle'\n}\n\nexport default function OrganisasjonListe({ bestillinger, organisasjoner }: OrganisasjonListe) {\n\tif (!organisasjoner) {\n\t\treturn null\n\t}\n\n\tconst sortedOrgliste = _orderBy(organisasjoner, ['id'], ['desc'])\n\n\tconst columns = [\n\t\t{\n\t\t\ttext: 'Orgnr.',\n\t\t\twidth: '20',\n\t\t\tdataField: 'organisasjonsnummer',\n\t\t\tunique: true,\n\n\t\t\tformatter: (cell: string, row: EnhetData) => (\n\t\t\t\t<div className=\"identnummer-cell\">\n\t\t\t\t\t{row.organisasjonsnummer}\n\t\t\t\t\t<CopyToClipboard text={row.organisasjonsnummer}>\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\toverlay={'Kopier'}\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\tdestroyTooltipOnHide={true}\n\t\t\t\t\t\t\tmouseEnterDelay={0}\n\t\t\t\t\t\t\tmouseLeaveDelay={0.1}\n\t\t\t\t\t\t\tarrowContent={<div className=\"rc-tooltip-arrow-inner\"></div>}\n\t\t\t\t\t\t\talign={{\n\t\t\t\t\t\t\t\toffset: ['0', '-10']\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"icon\"\n\t\t\t\t\t\t\t\tonClick={event => {\n\t\t\t\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon kind=\"copy\" size={15} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\ttext: 'Navn',\n\t\t\twidth: '30',\n\t\t\tdataField: 'organisasjonsnavn'\n\t\t},\n\t\t{\n\t\t\ttext: 'Enhetstype',\n\t\t\twidth: '15',\n\t\t\tdataField: 'enhetstype'\n\t\t},\n\t\t{\n\t\t\ttext: 'Bestilling-ID',\n\t\t\twidth: '20',\n\t\t\tdataField: 'bestillingId',\n\t\t\tformatter: (cell: number, row: EnhetData) => {\n\t\t\t\tconst str = row.bestillingId\n\t\t\t\tif (str.length > 1) return `${str[0]} ...`\n\t\t\t\treturn str[0]\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttext: 'Status',\n\t\t\twidth: '10',\n\t\t\tdataField: 'status',\n\t\t\tformatter(cell: string) {\n\t\t\t\t// @ts-ignore\n\t\t\t\treturn <Icon kind={ikonTypeMap[cell]} title={cell} />\n\t\t\t}\n\t\t}\n\t]\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<DollyTable\n\t\t\t\tdata={sortedOrgliste}\n\t\t\t\tcolumns={columns}\n\t\t\t\tpagination\n\t\t\t\tvisSide={null}\n\t\t\t\ticonItem={<OrganisasjonItem />}\n\t\t\t\tonExpand={(organisasjon: EnhetData) => (\n\t\t\t\t\t<OrganisasjonVisning data={organisasjon} bestillinger={bestillinger} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t</ErrorBoundary>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport { sokSelector } from '~/ducks/bestillingStatus'\nimport Hjelpetekst from '~/components/hjelpetekst'\nimport NavButton from '~/components/ui/button/NavButton/NavButton'\nimport { ToggleGruppe, ToggleKnapp } from '~/components/ui/toggle/Toggle'\nimport Icon from '~/components/ui/icon/Icon'\nimport { SearchField } from '~/components/searchField/SearchField'\nimport Loading from '~/components/ui/loading/Loading'\nimport { History } from 'history'\nimport { ErrorBoundary } from '~/components/ui/appError/ErrorBoundary'\nimport OrganisasjonBestilling from './OrganisasjonBestilling'\nimport StatusListeConnector from '~/components/bestilling/statusListe/StatusListeConnector'\nimport OrganisasjonListe from './OrganisasjonListe'\nimport { EnhetBestilling } from '~/components/fagsystem/organisasjoner/types'\nimport _isEmpty from 'lodash/isEmpty'\nimport { dollySlack } from '~/components/dollySlack/dollySlack'\nimport TomOrgListe from './TomOrgliste'\n\ntype Organisasjoner = {\n\thistory: History\n\tstate: any\n\tisFetching: boolean\n\tbestillinger: Array<EnhetBestilling>\n\torganisasjoner: Array<Organisasjon>\n\tbrukerId: string\n\tgetOrganisasjonBestillingStatus: Function\n\tgetOrganisasjonBestilling: Function\n\tfetchOrganisasjoner: Function\n\tsearch?: string\n}\n\ntype Organisasjon = {\n\torganisasjonsnummer: string\n\tid: string\n\torganisasjonsnavn: string\n\tenhetstype: string\n}\n\nenum BestillingType {\n\tNY = 'NY',\n\tSTANDARD = 'STANDARD'\n}\n\nconst VISNING_ORGANISASJONER = 'organisasjoner'\nconst VISNING_BESTILLINGER = 'bestillinger'\n\nexport default function Organisasjoner({\n\thistory,\n\tstate,\n\tsearch,\n\tisFetching,\n\tbestillinger,\n\torganisasjoner,\n\tbrukerId,\n\tgetOrganisasjonBestillingStatus,\n\tgetOrganisasjonBestilling,\n\tfetchOrganisasjoner\n}: Organisasjoner) {\n\tconst [visning, setVisning] = useState(VISNING_ORGANISASJONER)\n\tconst byttVisning = (event: React.ChangeEvent<any>) => setVisning(event.target.value)\n\n\tuseEffect(() => {\n\t\tgetOrganisasjonBestillingStatus(brukerId)\n\t\tgetOrganisasjonBestilling(brukerId)\n\t}, [organisasjoner?.length])\n\n\tuseEffect(() => {\n\t\tfetchOrganisasjoner(brukerId)\n\t}, [])\n\n\tconst searchfieldPlaceholderSelector = () => {\n\t\tif (visning === VISNING_BESTILLINGER) return 'S√∏k i bestillinger'\n\t\treturn 'S√∏k i organisasjoner'\n\t}\n\n\tconst antallOrg = organisasjoner?.length\n\tconst antallBest = bestillinger?.length\n\n\tconst startBestilling = (type: string) => {\n\t\thistory.push('/organisasjoner/bestilling', { opprettOrganisasjon: type })\n\t}\n\n\tconst sokSelectorOrg = (items: Array<Organisasjon>, searchStr: string) => {\n\t\tif (!items) return []\n\t\tif (!searchStr) return items\n\n\t\tconst query = searchStr.toLowerCase()\n\t\treturn items.filter(item =>\n\t\t\tObject.values(item).some(v =>\n\t\t\t\t(v || '')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes(query)\n\t\t\t)\n\t\t)\n\t}\n\n\tconst hentOrgStatus = (bestillinger: Array<EnhetBestilling>, bestillingId: string) => {\n\t\tif (!bestillinger) return null\n\t\tlet orgStatus = 'Ferdig'\n\t\tconst bestilling = bestillinger.find(obj => {\n\t\t\treturn obj.id === bestillingId\n\t\t})\n\t\tif (!bestilling?.status) orgStatus = 'Feilet'\n\t\tbestilling?.status?.[0].statuser?.forEach(status => {\n\t\t\tif (status?.melding !== 'OK') orgStatus = 'Avvik'\n\t\t})\n\t\treturn orgStatus\n\t}\n\n\tfunction getBestillingIdFromOrgnummer(\n\t\tbestillinger: Array<EnhetBestilling>,\n\t\torganisasjonsnummer: string\n\t) {\n\t\treturn bestillinger\n\t\t\t.filter(org => org.organisasjonNummer === organisasjonsnummer)\n\t\t\t.map(org => org.id)\n\t\t\t.sort(function(a: number, b: number) {\n\t\t\t\treturn b - a\n\t\t\t})\n\t}\n\n\tconst mergeList = (organisasjoner: Array<Organisasjon>, bestillinger: Array<EnhetBestilling>) => {\n\t\tif (_isEmpty(organisasjoner)) return null\n\n\t\treturn organisasjoner.map(orgInfo => {\n\t\t\tconst bestillingId = getBestillingIdFromOrgnummer(bestillinger, orgInfo.organisasjonsnummer)\n\t\t\treturn {\n\t\t\t\torgInfo,\n\t\t\t\tid: orgInfo.id,\n\t\t\t\torganisasjonsnummer: orgInfo.organisasjonsnummer,\n\t\t\t\torganisasjonsnavn: orgInfo.organisasjonsnavn,\n\t\t\t\tenhetstype: orgInfo.enhetstype,\n\t\t\t\tstatus: hentOrgStatus(bestillinger, bestillingId[0]),\n\t\t\t\tbestillingId: bestillingId\n\t\t\t}\n\t\t})\n\t}\n\n\tconst filterOrg = () => sokSelectorOrg(mergeList(organisasjoner, bestillinger), search)\n\tconst filterBest = () => sokSelector(state, search)\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<div className=\"oversikt-container\">\n\t\t\t\t<div className=\"toolbar\">\n\t\t\t\t\t<div className=\"page-header flexbox--align-center\">\n\t\t\t\t\t\t<h1>Testorganisasjoner</h1>\n\t\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t\t<Hjelpetekst hjelpetekstFor=\"Testorganisasjoner\" type=\"under\">\n\t\t\t\t\t\t\tOrganisasjoner i Dolly er en del av NAVs syntetiske testpopulasjon og dekker behov for\n\t\t\t\t\t\t\ttestdata knyttet til bedrifter/virksomheter (EREG). L√∏sningen er under utvikling, og\n\t\t\t\t\t\t\tdet legges til ny funksjonalitet fortl√∏pende.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tP√• denne siden finner du en oversikt over dine egne testorganisasjoner. Du kan\n\t\t\t\t\t\t\topprette nye organisasjoner ved √• trykke p√• knappen under.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tKontakt oss gjerne p√• {dollySlack} dersom du har sp√∏rsm√•l eller innspill.\n\t\t\t\t\t\t</Hjelpetekst>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<StatusListeConnector brukerId={brukerId} />\n\n\t\t\t\t<div className=\"toolbar\">\n\t\t\t\t\t<NavButton type=\"hoved\" onClick={() => startBestilling(BestillingType.NY)}>\n\t\t\t\t\t\tOpprett organisasjon\n\t\t\t\t\t</NavButton>\n\n\t\t\t\t\t<ToggleGruppe onChange={byttVisning} name=\"toggler\">\n\t\t\t\t\t\t<ToggleKnapp\n\t\t\t\t\t\t\tvalue={VISNING_ORGANISASJONER}\n\t\t\t\t\t\t\tchecked={visning === VISNING_ORGANISASJONER}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tsize={13}\n\t\t\t\t\t\t\t\tkind={visning === VISNING_ORGANISASJONER ? 'organisasjonLight' : 'organisasjon'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{`Organisasjoner (${antallOrg ? antallOrg : 0})`}\n\t\t\t\t\t\t</ToggleKnapp>\n\t\t\t\t\t\t<ToggleKnapp value={VISNING_BESTILLINGER} checked={visning === VISNING_BESTILLINGER}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tsize={13}\n\t\t\t\t\t\t\t\tkind={visning === VISNING_BESTILLINGER ? 'bestillingLight' : 'bestilling'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{`Bestillinger (${antallBest ? antallBest : 0})`}\n\t\t\t\t\t\t</ToggleKnapp>\n\t\t\t\t\t</ToggleGruppe>\n\n\t\t\t\t\t<SearchField placeholder={searchfieldPlaceholderSelector()} />\n\t\t\t\t</div>\n\n\t\t\t\t{visning === VISNING_ORGANISASJONER &&\n\t\t\t\t\t(isFetching || antallOrg === undefined ? (\n\t\t\t\t\t\t<Loading label=\"Laster organisasjoner\" panel />\n\t\t\t\t\t) : antallOrg > 0 ? (\n\t\t\t\t\t\t<OrganisasjonListe bestillinger={bestillinger} organisasjoner={filterOrg()} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TomOrgListe\n\t\t\t\t\t\t\tstartBestilling={startBestilling}\n\t\t\t\t\t\t\tbestillingstype={BestillingType.STANDARD}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t{visning === VISNING_BESTILLINGER &&\n\t\t\t\t\t(isFetching ? (\n\t\t\t\t\t\t<Loading label=\"Laster bestillinger\" panel />\n\t\t\t\t\t) : antallBest > 0 ? (\n\t\t\t\t\t\t<OrganisasjonBestilling brukerId={brukerId} bestillinger={filterBest()} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TomOrgListe\n\t\t\t\t\t\t\tstartBestilling={startBestilling}\n\t\t\t\t\t\t\tbestillingstype={BestillingType.STANDARD}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t</ErrorBoundary>\n\t)\n}\n","import React from 'react'\nimport ContentContainer from '~/components/ui/contentContainer/ContentContainer'\nimport NavButton from '~/components/ui/button/NavButton/NavButton'\n\ntype Props = {\n\tstartBestilling: (bestillingstype: string) => void\n\tbestillingstype: string\n}\n\nexport default ({ startBestilling, bestillingstype }: Props) => (\n\t<ContentContainer>\n\t\t<p>\n\t\t\tDu har for √∏yeblikket ingen testorganisasjoner. Trykk p√• knappen under for √• opprette en\n\t\t\ttestorganisasjon med standard oppsett.\n\t\t</p>\n\t\t<NavButton\n\t\t\ttype=\"standard\"\n\t\t\tonClick={() => startBestilling(bestillingstype)}\n\t\t\tstyle={{ marginTop: '10px' }}\n\t\t>\n\t\t\tOpprett standard organisasjon\n\t\t</NavButton>\n\t</ContentContainer>\n)\n","// @ts-ignore\nimport { connect } from 'react-redux'\nimport { actions, fetchOrganisasjoner } from '~/ducks/organisasjon'\nimport { getOrganisasjonBestilling } from '~/ducks/bestillingStatus'\nimport { createLoadingSelector } from '~/ducks/loading'\nimport Organisasjoner from './Organisasjoner'\n\nconst loadingSelector = createLoadingSelector([\n\tactions.getOrganisasjoner,\n\tactions.getOrganisasjonBestilling\n])\n\nconst mapStateToProps = (state: any) => ({\n\tstate: state,\n\tsearch: state.search,\n\tisFetching: loadingSelector(state),\n\tbestillinger: state.organisasjon.bestillinger,\n\torganisasjoner: state.organisasjon.organisasjoner,\n\tbrukerId: state.bruker.brukerData.brukerId\n})\n\nconst mapDispatchToProps = (dispatch: React.Dispatch<React.SetStateAction<string>>) => {\n\treturn {\n\t\tgetOrganisasjonBestillingStatus: (brukerId: string) =>\n\t\t\tdispatch(getOrganisasjonBestilling(brukerId)),\n\t\tgetOrganisasjonBestilling: (brukerId: string) =>\n\t\t\tdispatch(actions.getOrganisasjonBestilling(brukerId)),\n\t\tgetOrganisasjoner: (orgListe: Array<string>) => dispatch(actions.getOrganisasjoner(orgListe)),\n\t\tfetchOrganisasjoner: fetchOrganisasjoner(dispatch)\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Organisasjoner)\n"],"sourceRoot":""}